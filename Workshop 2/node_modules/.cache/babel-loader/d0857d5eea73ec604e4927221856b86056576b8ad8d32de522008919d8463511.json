{"ast":null,"code":"import { p as pick, _ as _objectSpread2, o as omit, s as styled, u as useInputContext, R as Row, L as Label, V as ValueInput, P as Portal, O as Overlay, c as createInternalPlugin, a as Vector, g as getVectorPlugin, b as useTransform, d as useTh, e as useDrag, f as _extends, m as multiplyStep, h as clamp, i as _objectWithoutProperties, n as normalizeKeyedNumberSettings, j as invertedRange, k as sanitizeStep, r as range, l as RangeWrapper, q as Range, I as Indicator, S as Scrubber, t as getUid, v as SpecialInputs, w as warn, x as LevaErrors, y as updateInput, z as normalizeInput, A as useInputSetters, B as Plugins, C as InputContext, D as StyledInputWrapper, E as useStoreContext, F as useCanvas2d, G as useInput, H as log, J as StyledTitle, K as Chevron, M as StyledWrapper, N as StyledContent, Q as StyledFolder, T as StyledInputRow, U as debounce, W as globalStyles, X as PanelSettingsContext, Y as StoreContext, Z as mergeTheme, $ as ThemeContext, a0 as render, a1 as register, a2 as LevaInputs, a3 as select, a4 as number$1, a5 as string, a6 as boolean } from './vector-plugin-6f82aee9.esm.js';\nexport { a2 as LevaInputs, a7 as LevaStoreProvider, E as useStoreContext } from './vector-plugin-6f82aee9.esm.js';\nimport v8n from 'v8n';\nimport { extend, colord, getFormat } from 'colord';\nimport namesPlugin from 'colord/plugins/names';\nimport { dequal } from 'dequal/lite';\nimport 'react-dom';\nimport React, { useRef, useMemo, useLayoutEffect, useEffect, useState, useCallback, forwardRef, useImperativeHandle } from 'react';\nimport { RgbaColorPicker, RgbColorPicker } from 'react-colorful';\nimport shallow from 'zustand/shallow';\nimport '@use-gesture/react';\nimport '@radix-ui/react-portal';\nimport '@radix-ui/react-tooltip';\nimport { useDropzone } from 'react-dropzone';\nimport create from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\nimport merge from 'merge-value';\nimport '@stitches/react';\nconst join = function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return args.filter(Boolean).join('.');\n};\nfunction getKeyPath(path) {\n  const dir = path.split('.');\n  return [dir.pop(), dir.join('.') || undefined];\n}\nfunction getValuesForPaths(data, paths) {\n  return Object.entries(pick(data, paths)).reduce((acc, _ref2) => {\n    let [, {\n      value,\n      disabled,\n      key\n    }] = _ref2;\n    acc[key] = disabled ? undefined : value;\n    return acc;\n  }, {});\n}\nfunction useCompareMemoize(value, deep) {\n  const ref = useRef();\n  const compare = deep ? dequal : shallow;\n  if (!compare(value, ref.current)) {\n    ref.current = value;\n  }\n  return ref.current;\n}\nfunction useDeepMemo(fn, deps) {\n  return useMemo(fn, useCompareMemoize(deps, true));\n}\nfunction useToggle(toggled) {\n  const wrapperRef = useRef(null);\n  const contentRef = useRef(null);\n  const firstRender = useRef(true);\n  useLayoutEffect(() => {\n    if (!toggled) {\n      wrapperRef.current.style.height = '0px';\n      wrapperRef.current.style.overflow = 'hidden';\n    }\n  }, []);\n  useEffect(() => {\n    if (firstRender.current) {\n      firstRender.current = false;\n      return;\n    }\n    let timeout;\n    const ref = wrapperRef.current;\n    const fixHeight = () => {\n      if (toggled) {\n        ref.style.removeProperty('height');\n        ref.style.removeProperty('overflow');\n        contentRef.current.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest'\n        });\n      }\n    };\n    ref.addEventListener('transitionend', fixHeight, {\n      once: true\n    });\n    const {\n      height\n    } = contentRef.current.getBoundingClientRect();\n    ref.style.height = height + 'px';\n    if (!toggled) {\n      ref.style.overflow = 'hidden';\n      timeout = window.setTimeout(() => ref.style.height = '0px', 50);\n    }\n    return () => {\n      ref.removeEventListener('transitionend', fixHeight);\n      clearTimeout(timeout);\n    };\n  }, [toggled]);\n  return {\n    wrapperRef,\n    contentRef\n  };\n}\nconst useVisiblePaths = store => {\n  const [paths, setPaths] = useState(store.getVisiblePaths());\n  useEffect(() => {\n    setPaths(store.getVisiblePaths());\n    const unsub = store.useStore.subscribe(store.getVisiblePaths, setPaths, {\n      equalityFn: shallow\n    });\n    return () => unsub();\n  }, [store]);\n  return paths;\n};\nfunction useValuesForPath(store, paths, initialData) {\n  const valuesForPath = store.useStore(s => {\n    const data = _objectSpread2(_objectSpread2({}, initialData), s.data);\n    return getValuesForPaths(data, paths);\n  }, shallow);\n  return valuesForPath;\n}\nfunction usePopin() {\n  let margin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n  const popinRef = useRef(null);\n  const wrapperRef = useRef(null);\n  const [shown, setShow] = useState(false);\n  const show = useCallback(() => setShow(true), []);\n  const hide = useCallback(() => setShow(false), []);\n  useLayoutEffect(() => {\n    if (shown) {\n      const {\n        bottom,\n        top,\n        left\n      } = popinRef.current.getBoundingClientRect();\n      const {\n        height\n      } = wrapperRef.current.getBoundingClientRect();\n      const direction = bottom + height > window.innerHeight - 40 ? 'up' : 'down';\n      wrapperRef.current.style.position = 'fixed';\n      wrapperRef.current.style.zIndex = '10000';\n      wrapperRef.current.style.left = left + 'px';\n      if (direction === 'down') wrapperRef.current.style.top = bottom + margin + 'px';else wrapperRef.current.style.bottom = window.innerHeight - top + margin + 'px';\n    }\n  }, [margin, shown]);\n  return {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  };\n}\nextend([namesPlugin]);\nconst convertMap = {\n  rgb: 'toRgb',\n  hsl: 'toHsl',\n  hsv: 'toHsv',\n  hex: 'toHex'\n};\nv8n.extend({\n  color: () => value => colord(value).isValid()\n});\nconst schema$2 = o => v8n().color().test(o);\nfunction convert(color, _ref3) {\n  let {\n    format,\n    hasAlpha,\n    isString\n  } = _ref3;\n  const convertFn = convertMap[format] + (isString && format !== 'hex' ? 'String' : '');\n  const result = color[convertFn]();\n  return typeof result === 'object' && !hasAlpha ? omit(result, ['a']) : result;\n}\nconst sanitize$2 = (v, settings) => {\n  const color = colord(v);\n  if (!color.isValid()) throw Error('Invalid color');\n  return convert(color, settings);\n};\nconst format$1 = (v, settings) => {\n  return convert(colord(v), _objectSpread2(_objectSpread2({}, settings), {}, {\n    isString: true,\n    format: 'hex'\n  }));\n};\nconst normalize$3 = _ref4 => {\n  let {\n    value\n  } = _ref4;\n  const _f = getFormat(value);\n  const format = _f === 'name' ? 'hex' : _f;\n  const hasAlpha = typeof value === 'object' ? 'a' in value : _f === 'hex' && value.length === 8 || /^(rgba)|(hsla)|(hsva)/.test(value);\n  const settings = {\n    format,\n    hasAlpha,\n    isString: typeof value === 'string'\n  };\n  return {\n    value: sanitize$2(value, settings),\n    settings\n  };\n};\nvar props$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$2,\n  sanitize: sanitize$2,\n  format: format$1,\n  normalize: normalize$3\n});\nconst ColorPreview = styled('div', {\n  position: 'relative',\n  boxSizing: 'border-box',\n  borderRadius: '$sm',\n  overflow: 'hidden',\n  cursor: 'pointer',\n  height: '$rowHeight',\n  width: '$rowHeight',\n  backgroundColor: '#fff',\n  backgroundImage: `url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill-opacity=\".05\"><path d=\"M8 0h8v8H8zM0 8h8v8H0z\"/></svg>')`,\n  $inputStyle: '',\n  $hover: '',\n  zIndex: 1,\n  variants: {\n    active: {\n      true: {\n        $inputStyle: '$accent1'\n      }\n    }\n  },\n  '&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    right: 0,\n    left: 0,\n    backgroundColor: 'currentColor',\n    zIndex: 1\n  }\n});\nconst PickerContainer = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '$sizes$rowHeight auto',\n  columnGap: '$colGap',\n  alignItems: 'center'\n});\nconst PickerWrapper = styled('div', {\n  width: '$colorPickerWidth',\n  height: '$colorPickerHeight',\n  '.react-colorful': {\n    width: '100%',\n    height: '100%',\n    boxShadow: '$level2',\n    cursor: 'crosshair'\n  },\n  '.react-colorful__saturation': {\n    borderRadius: '$sm $sm 0 0'\n  },\n  '.react-colorful__alpha, .react-colorful__hue': {\n    height: 10\n  },\n  '.react-colorful__last-control': {\n    borderRadius: '0 0 $sm $sm'\n  },\n  '.react-colorful__pointer': {\n    height: 12,\n    width: 12\n  }\n});\nfunction convertToRgb(value, format) {\n  return format !== 'rgb' ? colord(value).toRgb() : value;\n}\nfunction Color(_ref5) {\n  let {\n    value,\n    displayValue,\n    settings,\n    onUpdate\n  } = _ref5;\n  const {\n    emitOnEditStart,\n    emitOnEditEnd\n  } = useInputContext();\n  const {\n    format,\n    hasAlpha\n  } = settings;\n  const {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  } = usePopin();\n  const timer = useRef(0);\n  const [initialRgb, setInitialRgb] = useState(() => convertToRgb(value, format));\n  const ColorPicker = hasAlpha ? RgbaColorPicker : RgbColorPicker;\n  const showPicker = () => {\n    setInitialRgb(convertToRgb(value, format));\n    show();\n    emitOnEditStart();\n  };\n  const hidePicker = () => {\n    hide();\n    emitOnEditEnd();\n    window.clearTimeout(timer.current);\n  };\n  const hideAfterDelay = () => {\n    timer.current = window.setTimeout(hidePicker, 500);\n  };\n  useEffect(() => {\n    return () => window.clearTimeout(timer.current);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(ColorPreview, {\n    ref: popinRef,\n    active: shown,\n    onClick: () => showPicker(),\n    style: {\n      color: displayValue\n    }\n  }), shown && React.createElement(Portal, null, React.createElement(Overlay, {\n    onPointerUp: hidePicker\n  }), React.createElement(PickerWrapper, {\n    ref: wrapperRef,\n    onMouseEnter: () => window.clearTimeout(timer.current),\n    onMouseLeave: e => e.buttons === 0 && hideAfterDelay()\n  }, React.createElement(ColorPicker, {\n    color: initialRgb,\n    onChange: onUpdate\n  }))));\n}\nfunction ColorComponent() {\n  const {\n    value,\n    displayValue,\n    label,\n    onChange,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(PickerContainer, null, React.createElement(Color, {\n    value: value,\n    displayValue: displayValue,\n    onChange: onChange,\n    onUpdate: onUpdate,\n    settings: settings\n  }), React.createElement(ValueInput, {\n    value: displayValue,\n    onChange: onChange,\n    onUpdate: onUpdate\n  })));\n}\nvar color = createInternalPlugin(_objectSpread2({\n  component: ColorComponent\n}, props$2));\nfunction Vector3dComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Vector, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  }));\n}\nvar vector3d = createInternalPlugin(_objectSpread2({\n  component: Vector3dComponent\n}, getVectorPlugin(['x', 'y', 'z'])));\nconst JoystickTrigger = styled('div', {\n  $flexCenter: '',\n  position: 'relative',\n  backgroundColor: '$elevation3',\n  borderRadius: '$sm',\n  cursor: 'pointer',\n  height: '$rowHeight',\n  width: '$rowHeight',\n  touchAction: 'none',\n  $draggable: '',\n  $hover: '',\n  '&:active': {\n    cursor: 'none'\n  },\n  '&::after': {\n    content: '\"\"',\n    backgroundColor: '$accent2',\n    height: 4,\n    width: 4,\n    borderRadius: 2\n  }\n});\nconst JoystickPlayground = styled('div', {\n  $flexCenter: '',\n  width: '$joystickWidth',\n  height: '$joystickHeight',\n  borderRadius: '$sm',\n  boxShadow: '$level2',\n  position: 'fixed',\n  zIndex: 10000,\n  overflow: 'hidden',\n  $draggable: '',\n  transform: 'translate(-50%, -50%)',\n  variants: {\n    isOutOfBounds: {\n      true: {\n        backgroundColor: '$elevation1'\n      },\n      false: {\n        backgroundColor: '$elevation3'\n      }\n    }\n  },\n  '> div': {\n    position: 'absolute',\n    $flexCenter: '',\n    borderStyle: 'solid',\n    borderWidth: 1,\n    borderColor: '$highlight1',\n    backgroundColor: '$elevation3',\n    width: '80%',\n    height: '80%',\n    '&::after,&::before': {\n      content: '\"\"',\n      position: 'absolute',\n      zindex: 10,\n      backgroundColor: '$highlight1'\n    },\n    '&::before': {\n      width: '100%',\n      height: 1\n    },\n    '&::after': {\n      height: '100%',\n      width: 1\n    }\n  },\n  '> span': {\n    position: 'relative',\n    zindex: 100,\n    width: 10,\n    height: 10,\n    backgroundColor: '$accent2',\n    borderRadius: '50%'\n  }\n});\nfunction Joystick(_ref6) {\n  let {\n    value,\n    settings,\n    onUpdate\n  } = _ref6;\n  const timeout = useRef();\n  const outOfBoundsX = useRef(0);\n  const outOfBoundsY = useRef(0);\n  const stepMultiplier = useRef(1);\n  const [joystickShown, setShowJoystick] = useState(false);\n  const [isOutOfBounds, setIsOutOfBounds] = useState(false);\n  const [spanRef, set] = useTransform();\n  const joystickeRef = useRef(null);\n  const playgroundRef = useRef(null);\n  useLayoutEffect(() => {\n    if (joystickShown) {\n      const {\n        top,\n        left,\n        width,\n        height\n      } = joystickeRef.current.getBoundingClientRect();\n      playgroundRef.current.style.left = left + width / 2 + 'px';\n      playgroundRef.current.style.top = top + height / 2 + 'px';\n    }\n  }, [joystickShown]);\n  const {\n    keys: [v1, v2],\n    joystick\n  } = settings;\n  const yFactor = joystick === 'invertY' ? 1 : -1;\n  const {\n    [v1]: {\n      step: stepV1\n    },\n    [v2]: {\n      step: stepV2\n    }\n  } = settings;\n  const wpx = useTh('sizes', 'joystickWidth');\n  const hpx = useTh('sizes', 'joystickHeight');\n  const w = parseFloat(wpx) * 0.8 / 2;\n  const h = parseFloat(hpx) * 0.8 / 2;\n  const startOutOfBounds = useCallback(() => {\n    if (timeout.current) return;\n    setIsOutOfBounds(true);\n    if (outOfBoundsX.current) set({\n      x: outOfBoundsX.current * w\n    });\n    if (outOfBoundsY.current) set({\n      y: outOfBoundsY.current * -h\n    });\n    timeout.current = window.setInterval(() => {\n      onUpdate(v => {\n        const incX = stepV1 * outOfBoundsX.current * stepMultiplier.current;\n        const incY = yFactor * stepV2 * outOfBoundsY.current * stepMultiplier.current;\n        return Array.isArray(v) ? {\n          [v1]: v[0] + incX,\n          [v2]: v[1] + incY\n        } : {\n          [v1]: v[v1] + incX,\n          [v2]: v[v2] + incY\n        };\n      });\n    }, 16);\n  }, [w, h, onUpdate, set, stepV1, stepV2, v1, v2, yFactor]);\n  const endOutOfBounds = useCallback(() => {\n    window.clearTimeout(timeout.current);\n    timeout.current = undefined;\n    setIsOutOfBounds(false);\n  }, []);\n  useEffect(() => {\n    function setStepMultiplier(event) {\n      stepMultiplier.current = multiplyStep(event);\n    }\n    window.addEventListener('keydown', setStepMultiplier);\n    window.addEventListener('keyup', setStepMultiplier);\n    return () => {\n      window.clearTimeout(timeout.current);\n      window.removeEventListener('keydown', setStepMultiplier);\n      window.removeEventListener('keyup', setStepMultiplier);\n    };\n  }, []);\n  const bind = useDrag(_ref7 => {\n    let {\n      first,\n      active,\n      delta: [dx, dy],\n      movement: [mx, my]\n    } = _ref7;\n    if (first) setShowJoystick(true);\n    const _x = clamp(mx, -w, w);\n    const _y = clamp(my, -h, h);\n    outOfBoundsX.current = Math.abs(mx) > Math.abs(_x) ? Math.sign(mx - _x) : 0;\n    outOfBoundsY.current = Math.abs(my) > Math.abs(_y) ? Math.sign(_y - my) : 0;\n    let newX = value[v1];\n    let newY = value[v2];\n    if (active) {\n      if (!outOfBoundsX.current) {\n        newX += dx * stepV1 * stepMultiplier.current;\n        set({\n          x: _x\n        });\n      }\n      if (!outOfBoundsY.current) {\n        newY -= yFactor * dy * stepV2 * stepMultiplier.current;\n        set({\n          y: _y\n        });\n      }\n      if (outOfBoundsX.current || outOfBoundsY.current) startOutOfBounds();else endOutOfBounds();\n      onUpdate({\n        [v1]: newX,\n        [v2]: newY\n      });\n    } else {\n      setShowJoystick(false);\n      outOfBoundsX.current = 0;\n      outOfBoundsY.current = 0;\n      set({\n        x: 0,\n        y: 0\n      });\n      endOutOfBounds();\n    }\n  });\n  return React.createElement(JoystickTrigger, _extends({\n    ref: joystickeRef\n  }, bind()), joystickShown && React.createElement(Portal, null, React.createElement(JoystickPlayground, {\n    ref: playgroundRef,\n    isOutOfBounds: isOutOfBounds\n  }, React.createElement(\"div\", null), React.createElement(\"span\", {\n    ref: spanRef\n  }))));\n}\nconst Container$1 = styled('div', {\n  display: 'grid',\n  columnGap: '$colGap',\n  variants: {\n    withJoystick: {\n      true: {\n        gridTemplateColumns: '$sizes$rowHeight auto'\n      },\n      false: {\n        gridTemplateColumns: 'auto'\n      }\n    }\n  }\n});\nfunction Vector2dComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Container$1, {\n    withJoystick: !!settings.joystick\n  }, settings.joystick && React.createElement(Joystick, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  }), React.createElement(Vector, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  })));\n}\nconst _excluded$7 = [\"joystick\"];\nconst plugin = getVectorPlugin(['x', 'y']);\nconst normalize$2 = _ref => {\n  let {\n      joystick = true\n    } = _ref,\n    input = _objectWithoutProperties(_ref, _excluded$7);\n  const {\n    value,\n    settings\n  } = plugin.normalize(input);\n  return {\n    value,\n    settings: _objectSpread2(_objectSpread2({}, settings), {}, {\n      joystick\n    })\n  };\n};\nvar vector2d = createInternalPlugin(_objectSpread2(_objectSpread2({\n  component: Vector2dComponent\n}, plugin), {}, {\n  normalize: normalize$2\n}));\nconst sanitize$1 = v => {\n  if (v === undefined) return undefined;\n  if (v instanceof File) {\n    try {\n      return URL.createObjectURL(v);\n    } catch (e) {\n      return undefined;\n    }\n  }\n  if (typeof v === 'string' && v.indexOf('blob:') === 0) return v;\n  throw Error(`Invalid image format [undefined | blob |Â File].`);\n};\nconst schema$1 = (_o, s) => typeof s === 'object' && 'image' in s;\nconst normalize$1 = _ref8 => {\n  let {\n    image\n  } = _ref8;\n  return {\n    value: image\n  };\n};\nvar props$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  sanitize: sanitize$1,\n  schema: schema$1,\n  normalize: normalize$1\n});\nconst ImageContainer = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '$sizes$rowHeight auto 20px',\n  columnGap: '$colGap',\n  alignItems: 'center'\n});\nconst DropZone = styled('div', {\n  $flexCenter: '',\n  overflow: 'hidden',\n  height: '$rowHeight',\n  background: '$elevation3',\n  textAlign: 'center',\n  color: 'inherit',\n  borderRadius: '$sm',\n  outline: 'none',\n  userSelect: 'none',\n  cursor: 'pointer',\n  $inputStyle: '',\n  $hover: '',\n  $focusWithin: '',\n  $active: '$accent1 $elevation1',\n  variants: {\n    isDragAccept: {\n      true: {\n        $inputStyle: '$accent1',\n        backgroundColor: '$elevation1'\n      }\n    }\n  }\n});\nconst ImagePreview = styled('div', {\n  boxSizing: 'border-box',\n  borderRadius: '$sm',\n  height: '$rowHeight',\n  width: '$rowHeight',\n  $inputStyle: '',\n  backgroundSize: 'cover',\n  backgroundPosition: 'center',\n  variants: {\n    hasImage: {\n      true: {\n        cursor: 'pointer',\n        $hover: '',\n        $active: ''\n      }\n    }\n  }\n});\nconst ImageLargePreview = styled('div', {\n  $flexCenter: '',\n  width: '$imagePreviewWidth',\n  height: '$imagePreviewHeight',\n  borderRadius: '$sm',\n  boxShadow: '$level2',\n  pointerEvents: 'none',\n  $inputStyle: '',\n  backgroundSize: 'cover',\n  backgroundPosition: 'center'\n});\nconst Instructions = styled('div', {\n  fontSize: '0.8em',\n  height: '100%',\n  padding: '$rowGap $md'\n});\nconst Remove = styled('div', {\n  $flexCenter: '',\n  top: '0',\n  right: '0',\n  marginRight: '$sm',\n  height: '100%',\n  cursor: 'pointer',\n  variants: {\n    disabled: {\n      true: {\n        color: '$elevation3',\n        cursor: 'default'\n      }\n    }\n  },\n  '&::after,&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    height: 2,\n    width: 10,\n    borderRadius: 1,\n    backgroundColor: 'currentColor'\n  },\n  '&::after': {\n    transform: 'rotate(45deg)'\n  },\n  '&::before': {\n    transform: 'rotate(-45deg)'\n  }\n});\nfunction ImageComponent() {\n  const {\n    label,\n    value,\n    onUpdate,\n    disabled\n  } = useInputContext();\n  const {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  } = usePopin();\n  const onDrop = useCallback(acceptedFiles => {\n    if (acceptedFiles.length) onUpdate(acceptedFiles[0]);\n  }, [onUpdate]);\n  const clear = useCallback(e => {\n    e.stopPropagation();\n    onUpdate(undefined);\n  }, [onUpdate]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragAccept\n  } = useDropzone({\n    maxFiles: 1,\n    accept: 'image/*',\n    onDrop,\n    disabled\n  });\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(ImageContainer, null, React.createElement(ImagePreview, {\n    ref: popinRef,\n    hasImage: !!value,\n    onPointerDown: () => !!value && show(),\n    onPointerUp: hide,\n    style: {\n      backgroundImage: value ? `url(${value})` : 'none'\n    }\n  }), shown && !!value && React.createElement(Portal, null, React.createElement(Overlay, {\n    onPointerUp: hide,\n    style: {\n      cursor: 'pointer'\n    }\n  }), React.createElement(ImageLargePreview, {\n    ref: wrapperRef,\n    style: {\n      backgroundImage: `url(${value})`\n    }\n  })), React.createElement(DropZone, getRootProps({\n    isDragAccept\n  }), React.createElement(\"input\", getInputProps()), React.createElement(Instructions, null, isDragAccept ? 'drop image' : 'click or drop')), React.createElement(Remove, {\n    onClick: clear,\n    disabled: !value\n  })));\n}\nvar image = createInternalPlugin(_objectSpread2({\n  component: ImageComponent\n}, props$1));\nconst number = v8n().number();\nconst schema = (o, s) => v8n().array().length(2).every.number().test(o) && v8n().schema({\n  min: number,\n  max: number\n}).test(s);\nconst format = v => ({\n  min: v[0],\n  max: v[1]\n});\nconst sanitize = (value, _ref9, prevValue) => {\n  let {\n    bounds: [MIN, MAX]\n  } = _ref9;\n  const _value = Array.isArray(value) ? format(value) : value;\n  const _newValue = {\n    min: prevValue[0],\n    max: prevValue[1]\n  };\n  const {\n    min,\n    max\n  } = _objectSpread2(_objectSpread2({}, _newValue), _value);\n  return [clamp(Number(min), MIN, Math.max(MIN, max)), clamp(Number(max), Math.min(MAX, min), MAX)];\n};\nconst normalize = _ref10 => {\n  let {\n    value,\n    min,\n    max\n  } = _ref10;\n  const boundsSettings = {\n    min,\n    max\n  };\n  const _settings = normalizeKeyedNumberSettings(format(value), {\n    min: boundsSettings,\n    max: boundsSettings\n  });\n  const bounds = [min, max];\n  const settings = _objectSpread2(_objectSpread2({}, _settings), {}, {\n    bounds\n  });\n  const _value = sanitize(format(value), settings, value);\n  return {\n    value: _value,\n    settings\n  };\n};\nvar props = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema,\n  format: format,\n  sanitize: sanitize,\n  normalize: normalize\n});\nconst _excluded$6 = [\"value\", \"bounds\", \"onDrag\"],\n  _excluded2$1 = [\"bounds\"];\nconst Container = styled('div', {\n  display: 'grid',\n  columnGap: '$colGap',\n  gridTemplateColumns: 'auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)'\n});\nfunction IntervalSlider(_ref) {\n  let {\n      value,\n      bounds: [min, max],\n      onDrag\n    } = _ref,\n    settings = _objectWithoutProperties(_ref, _excluded$6);\n  const ref = useRef(null);\n  const minScrubberRef = useRef(null);\n  const maxScrubberRef = useRef(null);\n  const rangeWidth = useRef(0);\n  const scrubberWidth = useTh('sizes', 'scrubberWidth');\n  const bind = useDrag(_ref11 => {\n    let {\n      event,\n      first,\n      xy: [x],\n      movement: [mx],\n      memo: _memo = {}\n    } = _ref11;\n    if (first) {\n      const {\n        width,\n        left\n      } = ref.current.getBoundingClientRect();\n      rangeWidth.current = width - parseFloat(scrubberWidth);\n      const targetIsScrub = (event === null || event === void 0 ? void 0 : event.target) === minScrubberRef.current || (event === null || event === void 0 ? void 0 : event.target) === maxScrubberRef.current;\n      _memo.pos = invertedRange((x - left) / width, min, max);\n      const delta = Math.abs(_memo.pos - value.min) - Math.abs(_memo.pos - value.max);\n      _memo.key = delta < 0 || delta === 0 && _memo.pos <= value.min ? 'min' : 'max';\n      if (targetIsScrub) _memo.pos = value[_memo.key];\n    }\n    const newValue = _memo.pos + invertedRange(mx / rangeWidth.current, 0, max - min);\n    onDrag({\n      [_memo.key]: sanitizeStep(newValue, settings[_memo.key])\n    });\n    return _memo;\n  });\n  const minStyle = `calc(${range(value.min, min, max)} * (100% - ${scrubberWidth} - 8px) + 4px)`;\n  const maxStyle = `calc(${1 - range(value.max, min, max)} * (100% - ${scrubberWidth} - 8px) + 4px)`;\n  return React.createElement(RangeWrapper, _extends({\n    ref: ref\n  }, bind()), React.createElement(Range, null, React.createElement(Indicator, {\n    style: {\n      left: minStyle,\n      right: maxStyle\n    }\n  })), React.createElement(Scrubber, {\n    position: \"left\",\n    ref: minScrubberRef,\n    style: {\n      left: minStyle\n    }\n  }), React.createElement(Scrubber, {\n    position: \"right\",\n    ref: maxScrubberRef,\n    style: {\n      right: maxStyle\n    }\n  }));\n}\nfunction IntervalComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  const _settings = _objectWithoutProperties(settings, _excluded2$1);\n  return React.createElement(React.Fragment, null, React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Container, null, React.createElement(IntervalSlider, _extends({\n    value: displayValue\n  }, settings, {\n    onDrag: onUpdate\n  })), React.createElement(Vector, {\n    value: displayValue,\n    settings: _settings,\n    onUpdate: onUpdate,\n    innerLabelTrim: 0\n  }))));\n}\nvar interval = createInternalPlugin(_objectSpread2({\n  component: IntervalComponent\n}, props));\nconst createEventEmitter = () => {\n  const listenerMapping = new Map();\n  return {\n    on: (topic, listener) => {\n      let listeners = listenerMapping.get(topic);\n      if (listeners === undefined) {\n        listeners = new Set();\n        listenerMapping.set(topic, listeners);\n      }\n      listeners.add(listener);\n    },\n    off: (topic, listener) => {\n      const listeners = listenerMapping.get(topic);\n      if (listeners === undefined) {\n        return;\n      }\n      listeners.delete(listener);\n      if (listeners.size === 0) {\n        listenerMapping.delete(topic);\n      }\n    },\n    emit: function (topic) {\n      const listeners = listenerMapping.get(topic);\n      if (listeners === undefined) {\n        return;\n      }\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n      for (const listener of listeners) {\n        listener(...args);\n      }\n    }\n  };\n};\nconst _excluded$5 = [\"type\", \"value\"],\n  _excluded2 = [\"onChange\", \"transient\", \"onEditStart\", \"onEditEnd\"];\nconst Store = function Store() {\n  const store = create(subscribeWithSelector(() => ({\n    data: {}\n  })));\n  const eventEmitter = createEventEmitter();\n  this.storeId = getUid();\n  this.useStore = store;\n  const folders = {};\n  const orderedPaths = new Set();\n  this.getVisiblePaths = () => {\n    const data = this.getData();\n    const paths = Object.keys(data);\n    const hiddenFolders = [];\n    Object.entries(folders).forEach(_ref12 => {\n      let [path, settings] = _ref12;\n      if (settings.render && paths.some(p => p.indexOf(path) === 0) && !settings.render(this.get)) hiddenFolders.push(path + '.');\n    });\n    const visiblePaths = [];\n    orderedPaths.forEach(path => {\n      if (path in data && data[path].__refCount > 0 && hiddenFolders.every(p => path.indexOf(p) === -1) && (!data[path].render || data[path].render(this.get))) {\n        visiblePaths.push(path);\n      }\n    });\n    return visiblePaths;\n  };\n  this.setOrderedPaths = newPaths => {\n    newPaths.forEach(p => orderedPaths.add(p));\n  };\n  this.orderPaths = paths => {\n    this.setOrderedPaths(paths);\n    return paths;\n  };\n  this.disposePaths = paths => {\n    store.setState(s => {\n      const data = s.data;\n      paths.forEach(path => {\n        if (path in data) {\n          const input = data[path];\n          input.__refCount--;\n          if (input.__refCount === 0 && input.type in SpecialInputs) {\n            delete data[path];\n          }\n        }\n      });\n      return {\n        data\n      };\n    });\n  };\n  this.dispose = () => {\n    store.setState(() => {\n      return {\n        data: {}\n      };\n    });\n  };\n  this.getFolderSettings = path => {\n    return folders[path] || {};\n  };\n  this.getData = () => {\n    return store.getState().data;\n  };\n  this.addData = (newData, override) => {\n    store.setState(s => {\n      const data = s.data;\n      Object.entries(newData).forEach(_ref13 => {\n        let [path, newInputData] = _ref13;\n        let input = data[path];\n        if (!!input) {\n          const {\n              type,\n              value\n            } = newInputData,\n            rest = _objectWithoutProperties(newInputData, _excluded$5);\n          if (type !== input.type) {\n            warn(LevaErrors.INPUT_TYPE_OVERRIDE, type);\n          } else {\n            if (input.__refCount === 0 || override) {\n              Object.assign(input, rest);\n            }\n            input.__refCount++;\n          }\n        } else {\n          data[path] = _objectSpread2(_objectSpread2({}, newInputData), {}, {\n            __refCount: 1\n          });\n        }\n      });\n      return {\n        data\n      };\n    });\n  };\n  this.setValueAtPath = (path, value, fromPanel) => {\n    store.setState(s => {\n      const data = s.data;\n      updateInput(data[path], value, path, this, fromPanel);\n      return {\n        data\n      };\n    });\n  };\n  this.setSettingsAtPath = (path, settings) => {\n    store.setState(s => {\n      const data = s.data;\n      data[path].settings = _objectSpread2(_objectSpread2({}, data[path].settings), settings);\n      return {\n        data\n      };\n    });\n  };\n  this.disableInputAtPath = (path, flag) => {\n    store.setState(s => {\n      const data = s.data;\n      data[path].disabled = flag;\n      return {\n        data\n      };\n    });\n  };\n  this.set = (values, fromPanel) => {\n    store.setState(s => {\n      const data = s.data;\n      Object.entries(values).forEach(_ref14 => {\n        let [path, value] = _ref14;\n        try {\n          updateInput(data[path], value, undefined, undefined, fromPanel);\n        } catch (e) {\n          if (process.env.NODE_ENV === 'development') {\n            console.warn(`[This message will only show in development]: \\`set\\` for path ${path} has failed.`, e);\n          }\n        }\n      });\n      return {\n        data\n      };\n    });\n  };\n  this.getInput = path => {\n    try {\n      return this.getData()[path];\n    } catch (e) {\n      warn(LevaErrors.PATH_DOESNT_EXIST, path);\n    }\n  };\n  this.get = path => {\n    var _this$getInput;\n    return (_this$getInput = this.getInput(path)) === null || _this$getInput === void 0 ? void 0 : _this$getInput.value;\n  };\n  this.emitOnEditStart = path => {\n    eventEmitter.emit(`onEditStart:${path}`, this.get(path), path, _objectSpread2(_objectSpread2({}, this.getInput(path)), {}, {\n      get: this.get\n    }));\n  };\n  this.emitOnEditEnd = path => {\n    eventEmitter.emit(`onEditEnd:${path}`, this.get(path), path, _objectSpread2(_objectSpread2({}, this.getInput(path)), {}, {\n      get: this.get\n    }));\n  };\n  this.subscribeToEditStart = (path, listener) => {\n    const _path = `onEditStart:${path}`;\n    eventEmitter.on(_path, listener);\n    return () => eventEmitter.off(_path, listener);\n  };\n  this.subscribeToEditEnd = (path, listener) => {\n    const _path = `onEditEnd:${path}`;\n    eventEmitter.on(_path, listener);\n    return () => eventEmitter.off(_path, listener);\n  };\n  const _getDataFromSchema = (schema, rootPath, mappedPaths) => {\n    const data = {};\n    Object.entries(schema).forEach(_ref15 => {\n      let [key, rawInput] = _ref15;\n      if (key === '') return warn(LevaErrors.EMPTY_KEY);\n      let newPath = join(rootPath, key);\n      if (rawInput.type === SpecialInputs.FOLDER) {\n        const newData = _getDataFromSchema(rawInput.schema, newPath, mappedPaths);\n        Object.assign(data, newData);\n        if (!(newPath in folders)) folders[newPath] = rawInput.settings;\n      } else if (key in mappedPaths) {\n        warn(LevaErrors.DUPLICATE_KEYS, key, newPath, mappedPaths[key].path);\n      } else {\n        const normalizedInput = normalizeInput(rawInput, key, newPath, data);\n        if (normalizedInput) {\n          const {\n            type,\n            options,\n            input\n          } = normalizedInput;\n          const {\n              onChange,\n              transient,\n              onEditStart,\n              onEditEnd\n            } = options,\n            _options = _objectWithoutProperties(options, _excluded2);\n          data[newPath] = _objectSpread2(_objectSpread2(_objectSpread2({\n            type\n          }, _options), input), {}, {\n            fromPanel: true\n          });\n          mappedPaths[key] = {\n            path: newPath,\n            onChange,\n            transient,\n            onEditStart,\n            onEditEnd\n          };\n        } else {\n          warn(LevaErrors.UNKNOWN_INPUT, newPath, rawInput);\n        }\n      }\n    });\n    return data;\n  };\n  this.getDataFromSchema = schema => {\n    const mappedPaths = {};\n    const data = _getDataFromSchema(schema, '', mappedPaths);\n    return [data, mappedPaths];\n  };\n};\nconst levaStore = new Store();\nfunction useCreateStore() {\n  return useMemo(() => new Store(), []);\n}\nif (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\n  window.__STORE = levaStore;\n}\nconst defaultSettings$2 = {\n  collapsed: false\n};\nfunction folder(schema, settings) {\n  return {\n    type: SpecialInputs.FOLDER,\n    schema,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings$2), settings)\n  };\n}\nconst defaultSettings$1 = {\n  disabled: false\n};\nfunction button(onClick, settings) {\n  return {\n    type: SpecialInputs.BUTTON,\n    onClick,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings$1), settings)\n  };\n}\nfunction buttonGroup(opts) {\n  return {\n    type: SpecialInputs.BUTTON_GROUP,\n    opts\n  };\n}\nconst defaultSettings = {\n  graph: false,\n  interval: 100\n};\nfunction monitor(objectOrFn, settings) {\n  return {\n    type: SpecialInputs.MONITOR,\n    objectOrFn,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings), settings)\n  };\n}\nconst isInput = v => '__levaInput' in v;\nconst buildTree = (paths, filter) => {\n  const tree = {};\n  const _filter = filter ? filter.toLowerCase() : null;\n  paths.forEach(path => {\n    const [valueKey, folderPath] = getKeyPath(path);\n    if (!_filter || valueKey.toLowerCase().indexOf(_filter) > -1) {\n      merge(tree, folderPath, {\n        [valueKey]: {\n          __levaInput: true,\n          path\n        }\n      });\n    }\n  });\n  return tree;\n};\nconst _excluded$4 = [\"type\", \"label\", \"path\", \"valueKey\", \"value\", \"settings\", \"setValue\", \"disabled\"];\nfunction ControlInput(_ref) {\n  let {\n      type,\n      label,\n      path,\n      valueKey,\n      value,\n      settings,\n      setValue,\n      disabled\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, _excluded$4);\n  const {\n    displayValue,\n    onChange,\n    onUpdate\n  } = useInputSetters({\n    type,\n    value,\n    settings,\n    setValue\n  });\n  const Input = Plugins[type].component;\n  if (!Input) {\n    warn(LevaErrors.NO_COMPONENT_FOR_TYPE, type, path);\n    return null;\n  }\n  return React.createElement(InputContext.Provider, {\n    value: _objectSpread2({\n      key: valueKey,\n      path,\n      id: '' + path,\n      label,\n      displayValue,\n      value,\n      onChange,\n      onUpdate,\n      settings,\n      setValue,\n      disabled\n    }, rest)\n  }, React.createElement(StyledInputWrapper, {\n    disabled: disabled\n  }, React.createElement(Input, null)));\n}\nconst StyledButton = styled('button', {\n  display: 'block',\n  $reset: '',\n  fontWeight: '$button',\n  height: '$rowHeight',\n  borderStyle: 'none',\n  borderRadius: '$sm',\n  backgroundColor: '$elevation1',\n  color: '$highlight1',\n  '&:not(:disabled)': {\n    color: '$highlight3',\n    backgroundColor: '$accent2',\n    cursor: 'pointer',\n    $hover: '$accent3',\n    $active: '$accent3 $accent1',\n    $focus: ''\n  }\n});\nfunction Button(_ref16) {\n  let {\n    onClick,\n    settings,\n    label\n  } = _ref16;\n  const store = useStoreContext();\n  return React.createElement(Row, null, React.createElement(StyledButton, {\n    disabled: settings.disabled,\n    onClick: () => onClick(store.get)\n  }, label));\n}\nconst StyledButtonGroup = styled('div', {\n  $flex: '',\n  justifyContent: 'flex-end',\n  gap: '$colGap'\n});\nconst StyledButtonGroupButton = styled('button', {\n  $reset: '',\n  cursor: 'pointer',\n  borderRadius: '$xs',\n  '&:hover': {\n    backgroundColor: '$elevation3'\n  }\n});\nconst getOpts = _ref17 => {\n  let {\n    label: _label,\n    opts: _opts\n  } = _ref17;\n  let label = typeof _label === 'string' ? _label.trim() === '' ? null : _label : _label;\n  let opts = _opts;\n  if (typeof _opts.opts === 'object') {\n    if (opts.label !== undefined) {\n      label = _opts.label;\n    }\n    opts = _opts.opts;\n  }\n  return {\n    label,\n    opts: opts\n  };\n};\nfunction ButtonGroup(props) {\n  const {\n    label,\n    opts\n  } = getOpts(props);\n  const store = useStoreContext();\n  return React.createElement(Row, {\n    input: !!label\n  }, label && React.createElement(Label, null, label), React.createElement(StyledButtonGroup, null, Object.entries(opts).map(_ref18 => {\n    let [label, onClick] = _ref18;\n    return React.createElement(StyledButtonGroupButton, {\n      key: label,\n      onClick: () => onClick(store.get)\n    }, label);\n  })));\n}\nconst Canvas = styled('canvas', {\n  height: '$monitorHeight',\n  width: '100%',\n  display: 'block',\n  borderRadius: '$sm'\n});\nconst POINTS = 100;\nfunction push(arr, val) {\n  arr.push(val);\n  if (arr.length > POINTS) arr.shift();\n}\nconst MonitorCanvas = forwardRef(function (_ref19, ref) {\n  let {\n    initialValue\n  } = _ref19;\n  const accentColor = useTh('colors', 'highlight3');\n  const backgroundColor = useTh('colors', 'elevation2');\n  const fillColor = useTh('colors', 'highlight1');\n  const [gradientTop, gradientBottom] = useMemo(() => {\n    return [colord(fillColor).alpha(0.4).toRgbString(), colord(fillColor).alpha(0.1).toRgbString()];\n  }, [fillColor]);\n  const points = useRef([initialValue]);\n  const min = useRef(initialValue);\n  const max = useRef(initialValue);\n  const raf = useRef();\n  const drawPlot = useCallback((_canvas, _ctx) => {\n    if (!_canvas) return;\n    const {\n      width,\n      height\n    } = _canvas;\n    const path = new Path2D();\n    const interval = width / POINTS;\n    const verticalPadding = height * 0.05;\n    for (let i = 0; i < points.current.length; i++) {\n      const p = range(points.current[i], min.current, max.current);\n      const x = interval * i;\n      const y = height - p * (height - verticalPadding * 2) - verticalPadding;\n      path.lineTo(x, y);\n    }\n    _ctx.clearRect(0, 0, width, height);\n    const gradientPath = new Path2D(path);\n    gradientPath.lineTo(interval * (points.current.length + 1), height);\n    gradientPath.lineTo(0, height);\n    gradientPath.lineTo(0, 0);\n    const gradient = _ctx.createLinearGradient(0, 0, 0, height);\n    gradient.addColorStop(0.0, gradientTop);\n    gradient.addColorStop(1.0, gradientBottom);\n    _ctx.fillStyle = gradient;\n    _ctx.fill(gradientPath);\n    _ctx.strokeStyle = backgroundColor;\n    _ctx.lineJoin = 'round';\n    _ctx.lineWidth = 14;\n    _ctx.stroke(path);\n    _ctx.strokeStyle = accentColor;\n    _ctx.lineWidth = 2;\n    _ctx.stroke(path);\n  }, [accentColor, backgroundColor, gradientTop, gradientBottom]);\n  const [canvas, ctx] = useCanvas2d(drawPlot);\n  useImperativeHandle(ref, () => ({\n    frame: val => {\n      if (min.current === undefined || val < min.current) min.current = val;\n      if (max.current === undefined || val > max.current) max.current = val;\n      push(points.current, val);\n      raf.current = requestAnimationFrame(() => drawPlot(canvas.current, ctx.current));\n    }\n  }), [canvas, ctx, drawPlot]);\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n  return React.createElement(Canvas, {\n    ref: canvas\n  });\n});\nconst parse = val => Number.isFinite(val) ? val.toPrecision(2) : val.toString();\nconst MonitorLog = forwardRef(function (_ref20, ref) {\n  let {\n    initialValue\n  } = _ref20;\n  const [val, set] = useState(parse(initialValue));\n  useImperativeHandle(ref, () => ({\n    frame: v => set(parse(v))\n  }), []);\n  return React.createElement(\"div\", null, val);\n});\nfunction getValue(o) {\n  return typeof o === 'function' ? o() : o.current;\n}\nfunction Monitor(_ref21) {\n  let {\n    label,\n    objectOrFn,\n    settings\n  } = _ref21;\n  const ref = useRef();\n  const initialValue = useRef(getValue(objectOrFn));\n  useEffect(() => {\n    const timeout = window.setInterval(() => {\n      var _ref$current;\n      if (document.hidden) return;\n      (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.frame(getValue(objectOrFn));\n    }, settings.interval);\n    return () => window.clearInterval(timeout);\n  }, [objectOrFn, settings.interval]);\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, {\n    align: \"top\"\n  }, label), settings.graph ? React.createElement(MonitorCanvas, {\n    ref: ref,\n    initialValue: initialValue.current\n  }) : React.createElement(MonitorLog, {\n    ref: ref,\n    initialValue: initialValue.current\n  }));\n}\nconst _excluded$3 = [\"type\", \"label\", \"key\"];\nconst specialComponents = {\n  [SpecialInputs.BUTTON]: Button,\n  [SpecialInputs.BUTTON_GROUP]: ButtonGroup,\n  [SpecialInputs.MONITOR]: Monitor\n};\nconst Control = React.memo(_ref22 => {\n  let {\n    path\n  } = _ref22;\n  const [input, {\n    set,\n    setSettings,\n    disable,\n    storeId,\n    emitOnEditStart,\n    emitOnEditEnd\n  }] = useInput(path);\n  if (!input) return null;\n  const {\n      type,\n      label,\n      key\n    } = input,\n    inputProps = _objectWithoutProperties(input, _excluded$3);\n  if (type in SpecialInputs) {\n    const SpecialInputForType = specialComponents[type];\n    return React.createElement(SpecialInputForType, _extends({\n      label: label,\n      path: path\n    }, inputProps));\n  }\n  if (!(type in Plugins)) {\n    log(LevaErrors.UNSUPPORTED_INPUT, type, path);\n    return null;\n  }\n  return React.createElement(ControlInput, _extends({\n    key: storeId + path,\n    type: type,\n    label: label,\n    storeId: storeId,\n    path: path,\n    valueKey: key,\n    setValue: set,\n    setSettings: setSettings,\n    disable: disable,\n    emitOnEditStart: emitOnEditStart,\n    emitOnEditEnd: emitOnEditEnd\n  }, inputProps));\n});\nfunction FolderTitle(_ref23) {\n  let {\n    toggle,\n    toggled,\n    name\n  } = _ref23;\n  return React.createElement(StyledTitle, {\n    onClick: () => toggle()\n  }, React.createElement(Chevron, {\n    toggled: toggled\n  }), React.createElement(\"div\", null, name));\n}\nconst Folder = _ref24 => {\n  let {\n    name,\n    path,\n    tree\n  } = _ref24;\n  const store = useStoreContext();\n  const newPath = join(path, name);\n  const {\n    collapsed,\n    color\n  } = store.getFolderSettings(newPath);\n  const [toggled, setToggle] = useState(!collapsed);\n  const folderRef = useRef(null);\n  const widgetColor = useTh('colors', 'folderWidgetColor');\n  const textColor = useTh('colors', 'folderTextColor');\n  useLayoutEffect(() => {\n    folderRef.current.style.setProperty('--leva-colors-folderWidgetColor', color || widgetColor);\n    folderRef.current.style.setProperty('--leva-colors-folderTextColor', color || textColor);\n  }, [color, widgetColor, textColor]);\n  return React.createElement(StyledFolder, {\n    ref: folderRef\n  }, React.createElement(FolderTitle, {\n    name: name,\n    toggled: toggled,\n    toggle: () => setToggle(t => !t)\n  }), React.createElement(TreeWrapper, {\n    parent: newPath,\n    tree: tree,\n    toggled: toggled\n  }));\n};\nconst TreeWrapper = React.memo(_ref25 => {\n  let {\n    isRoot: _isRoot = false,\n    fill: _fill = false,\n    flat: _flat = false,\n    parent,\n    tree,\n    toggled\n  } = _ref25;\n  const {\n    wrapperRef,\n    contentRef\n  } = useToggle(toggled);\n  const store = useStoreContext();\n  const getOrder = _ref26 => {\n    let [key, o] = _ref26;\n    var _store$getInput;\n    const order = isInput(o) ? (_store$getInput = store.getInput(o.path)) === null || _store$getInput === void 0 ? void 0 : _store$getInput.order : store.getFolderSettings(join(parent, key)).order;\n    return order || 0;\n  };\n  const entries = Object.entries(tree).sort((a, b) => getOrder(a) - getOrder(b));\n  return React.createElement(StyledWrapper, {\n    ref: wrapperRef,\n    isRoot: _isRoot,\n    fill: _fill,\n    flat: _flat\n  }, React.createElement(StyledContent, {\n    ref: contentRef,\n    isRoot: _isRoot,\n    toggled: toggled\n  }, entries.map(_ref27 => {\n    let [key, value] = _ref27;\n    return isInput(value) ? React.createElement(Control, {\n      key: value.path,\n      valueKey: value.valueKey,\n      path: value.path\n    }) : React.createElement(Folder, {\n      key: key,\n      name: key,\n      path: parent,\n      tree: value\n    });\n  })));\n});\nconst StyledRoot = styled('div', {\n  position: 'relative',\n  fontFamily: '$mono',\n  fontSize: '$root',\n  color: '$rootText',\n  backgroundColor: '$elevation1',\n  variants: {\n    fill: {\n      false: {\n        position: 'fixed',\n        top: '10px',\n        right: '10px',\n        zIndex: 1000,\n        width: '$rootWidth'\n      },\n      true: {\n        position: 'relative',\n        width: '100%'\n      }\n    },\n    flat: {\n      false: {\n        borderRadius: '$lg',\n        boxShadow: '$level1'\n      }\n    },\n    oneLineLabels: {\n      true: {\n        [`${StyledInputRow}`]: {\n          gridTemplateColumns: 'auto',\n          gridAutoColumns: 'minmax(max-content, 1fr)',\n          gridAutoRows: 'minmax($sizes$rowHeight), auto)',\n          rowGap: 0,\n          columnGap: 0,\n          marginTop: '$rowGap'\n        }\n      }\n    },\n    hideTitleBar: {\n      true: {\n        $$titleBarHeight: '0px'\n      },\n      false: {\n        $$titleBarHeight: '$sizes$titleBarHeight'\n      }\n    }\n  },\n  '&,*,*:after,*:before': {\n    boxSizing: 'border-box'\n  },\n  '*::selection': {\n    backgroundColor: '$accent2'\n  }\n});\nconst iconWidth = 40;\nconst Icon = styled('i', {\n  $flexCenter: '',\n  width: iconWidth,\n  userSelect: 'none',\n  cursor: 'pointer',\n  '> svg': {\n    fill: '$highlight1',\n    transition: 'transform 350ms ease, fill 250ms ease'\n  },\n  '&:hover > svg': {\n    fill: '$highlight3'\n  },\n  variants: {\n    active: {\n      true: {\n        '> svg': {\n          fill: '$highlight2'\n        }\n      }\n    }\n  }\n});\nconst StyledTitleWithFilter = styled('div', {\n  display: 'flex',\n  alignItems: 'stretch',\n  justifyContent: 'space-between',\n  height: '$titleBarHeight',\n  variants: {\n    mode: {\n      drag: {\n        cursor: 'grab'\n      }\n    }\n  }\n});\nconst FilterWrapper = styled('div', {\n  $flex: '',\n  position: 'relative',\n  width: '100%',\n  overflow: 'hidden',\n  transition: 'height 250ms ease',\n  color: '$highlight3',\n  paddingLeft: '$md',\n  [`> ${Icon}`]: {\n    height: 30\n  },\n  variants: {\n    toggled: {\n      true: {\n        height: 30\n      },\n      false: {\n        height: 0\n      }\n    }\n  }\n});\nconst StyledFilterInput = styled('input', {\n  $reset: '',\n  flex: 1,\n  position: 'relative',\n  height: 30,\n  width: '100%',\n  backgroundColor: 'transparent',\n  fontSize: '10px',\n  borderRadius: '$root',\n  '&:focus': {},\n  '&::placeholder': {\n    color: '$highlight2'\n  }\n});\nconst TitleContainer = styled('div', {\n  touchAction: 'none',\n  $flexCenter: '',\n  flex: 1,\n  '> svg': {\n    fill: '$highlight1'\n  },\n  color: '$highlight1',\n  variants: {\n    drag: {\n      true: {\n        $draggable: '',\n        '> svg': {\n          transition: 'fill 250ms ease'\n        },\n        '&:hover': {\n          color: '$highlight3'\n        },\n        '&:hover > svg': {\n          fill: '$highlight3'\n        }\n      }\n    },\n    filterEnabled: {\n      false: {\n        paddingRight: iconWidth\n      }\n    }\n  }\n});\nconst FilterInput = React.forwardRef((_ref28, ref) => {\n  let {\n    setFilter,\n    toggle\n  } = _ref28;\n  const [value, set] = useState('');\n  const debouncedOnChange = useMemo(() => debounce(setFilter, 250), [setFilter]);\n  const clear = () => {\n    setFilter('');\n    set('');\n  };\n  const _onChange = e => {\n    const v = e.currentTarget.value;\n    toggle(true);\n    set(v);\n  };\n  useEffect(() => {\n    debouncedOnChange(value);\n  }, [value, debouncedOnChange]);\n  return React.createElement(React.Fragment, null, React.createElement(StyledFilterInput, {\n    ref: ref,\n    value: value,\n    placeholder: \"[Open filter with CMD+SHIFT+L]\",\n    onPointerDown: e => e.stopPropagation(),\n    onChange: _onChange\n  }), React.createElement(Icon, {\n    onClick: () => clear(),\n    style: {\n      visibility: value ? 'visible' : 'hidden'\n    }\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"14\",\n    width: \"14\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n    clipRule: \"evenodd\"\n  }))));\n});\nfunction TitleWithFilter(_ref29) {\n  let {\n    setFilter,\n    onDrag,\n    onDragStart,\n    onDragEnd,\n    toggle,\n    toggled,\n    title,\n    drag,\n    filterEnabled,\n    from\n  } = _ref29;\n  const [filterShown, setShowFilter] = useState(false);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    var _inputRef$current, _inputRef$current2;\n    if (filterShown) (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();else (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 ? void 0 : _inputRef$current2.blur();\n  }, [filterShown]);\n  const bind = useDrag(_ref30 => {\n    let {\n      offset: [x, y],\n      first,\n      last\n    } = _ref30;\n    onDrag({\n      x,\n      y\n    });\n    if (first) {\n      onDragStart({\n        x,\n        y\n      });\n    }\n    if (last) {\n      onDragEnd({\n        x,\n        y\n      });\n    }\n  }, {\n    filterTaps: true,\n    from: _ref31 => {\n      let {\n        offset: [x, y]\n      } = _ref31;\n      return [(from === null || from === void 0 ? void 0 : from.x) || x, (from === null || from === void 0 ? void 0 : from.y) || y];\n    }\n  });\n  useEffect(() => {\n    const handleShortcut = event => {\n      if (event.key === 'L' && event.shiftKey && event.metaKey) {\n        setShowFilter(f => !f);\n      }\n    };\n    window.addEventListener('keydown', handleShortcut);\n    return () => window.removeEventListener('keydown', handleShortcut);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(StyledTitleWithFilter, {\n    mode: drag ? 'drag' : undefined\n  }, React.createElement(Icon, {\n    active: !toggled,\n    onClick: () => toggle()\n  }, React.createElement(Chevron, {\n    toggled: toggled,\n    width: 12,\n    height: 8\n  })), React.createElement(TitleContainer, _extends({}, drag ? bind() : {}, {\n    drag: drag,\n    filterEnabled: filterEnabled\n  }), title === undefined && drag ? React.createElement(\"svg\", {\n    width: \"20\",\n    height: \"10\",\n    viewBox: \"0 0 28 14\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React.createElement(\"circle\", {\n    cx: \"2\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"14\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"26\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"2\",\n    cy: \"12\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"14\",\n    cy: \"12\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"26\",\n    cy: \"12\",\n    r: \"2\"\n  })) : title), filterEnabled && React.createElement(Icon, {\n    active: filterShown,\n    onClick: () => setShowFilter(f => !f)\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"20\",\n    viewBox: \"0 0 20 20\"\n  }, React.createElement(\"path\", {\n    d: \"M9 9a2 2 0 114 0 2 2 0 01-4 0z\"\n  }), React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z\",\n    clipRule: \"evenodd\"\n  })))), React.createElement(FilterWrapper, {\n    toggled: filterShown\n  }, React.createElement(FilterInput, {\n    ref: inputRef,\n    setFilter: setFilter,\n    toggle: toggle\n  })));\n}\nconst _excluded$2 = [\"store\", \"hidden\", \"theme\", \"collapsed\"];\nfunction LevaRoot(_ref) {\n  let {\n      store,\n      hidden = false,\n      theme,\n      collapsed = false\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded$2);\n  const themeContext = useDeepMemo(() => mergeTheme(theme), [theme]);\n  const [toggled, setToggle] = useState(!collapsed);\n  const computedToggled = typeof collapsed === 'object' ? !collapsed.collapsed : toggled;\n  const computedSetToggle = useMemo(() => {\n    if (typeof collapsed === 'object') {\n      return value => {\n        if (typeof value === 'function') {\n          collapsed.onChange(!value(!collapsed.collapsed));\n        } else {\n          collapsed.onChange(!value);\n        }\n      };\n    }\n    return setToggle;\n  }, [collapsed]);\n  if (!store || hidden) return null;\n  return React.createElement(ThemeContext.Provider, {\n    value: themeContext\n  }, React.createElement(LevaCore, _extends({\n    store: store\n  }, props, {\n    toggled: computedToggled,\n    setToggle: computedSetToggle,\n    rootClass: themeContext.className\n  })));\n}\nconst LevaCore = React.memo(_ref32 => {\n  let {\n    store,\n    rootClass,\n    fill: _fill = false,\n    flat: _flat = false,\n    neverHide: _neverHide = false,\n    oneLineLabels: _oneLineLabels = false,\n    titleBar: _titleBar = {\n      title: undefined,\n      drag: true,\n      filter: true,\n      position: undefined,\n      onDrag: undefined,\n      onDragStart: undefined,\n      onDragEnd: undefined\n    },\n    hideCopyButton: _hideCopyButton = false,\n    toggled,\n    setToggle\n  } = _ref32;\n  var _titleBar$drag, _titleBar$filter;\n  const paths = useVisiblePaths(store);\n  const [filter, setFilter] = useState('');\n  const tree = useMemo(() => buildTree(paths, filter), [paths, filter]);\n  const [rootRef, set] = useTransform();\n  const shouldShow = _neverHide || paths.length > 0;\n  const title = typeof _titleBar === 'object' ? _titleBar.title || undefined : undefined;\n  const drag = typeof _titleBar === 'object' ? (_titleBar$drag = _titleBar.drag) !== null && _titleBar$drag !== void 0 ? _titleBar$drag : true : true;\n  const filterEnabled = typeof _titleBar === 'object' ? (_titleBar$filter = _titleBar.filter) !== null && _titleBar$filter !== void 0 ? _titleBar$filter : true : true;\n  const position = typeof _titleBar === 'object' ? _titleBar.position || undefined : undefined;\n  const onDrag = typeof _titleBar === 'object' ? _titleBar.onDrag || undefined : undefined;\n  const onDragStart = typeof _titleBar === 'object' ? _titleBar.onDragStart || undefined : undefined;\n  const onDragEnd = typeof _titleBar === 'object' ? _titleBar.onDragEnd || undefined : undefined;\n  React.useEffect(() => {\n    set({\n      x: position === null || position === void 0 ? void 0 : position.x,\n      y: position === null || position === void 0 ? void 0 : position.y\n    });\n  }, [position, set]);\n  globalStyles();\n  return React.createElement(PanelSettingsContext.Provider, {\n    value: {\n      hideCopyButton: _hideCopyButton\n    }\n  }, React.createElement(StyledRoot, {\n    ref: rootRef,\n    className: rootClass,\n    fill: _fill,\n    flat: _flat,\n    oneLineLabels: _oneLineLabels,\n    hideTitleBar: !_titleBar,\n    style: {\n      display: shouldShow ? 'block' : 'none'\n    }\n  }, _titleBar && React.createElement(TitleWithFilter, {\n    onDrag: point => {\n      set(point);\n      onDrag === null || onDrag === void 0 ? void 0 : onDrag(point);\n    },\n    onDragStart: point => onDragStart === null || onDragStart === void 0 ? void 0 : onDragStart(point),\n    onDragEnd: point => onDragEnd === null || onDragEnd === void 0 ? void 0 : onDragEnd(point),\n    setFilter: setFilter,\n    toggle: flag => setToggle(t => flag !== null && flag !== void 0 ? flag : !t),\n    toggled: toggled,\n    title: title,\n    drag: drag,\n    filterEnabled: filterEnabled,\n    from: position\n  }), shouldShow && React.createElement(StoreContext.Provider, {\n    value: store\n  }, React.createElement(TreeWrapper, {\n    isRoot: true,\n    fill: _fill,\n    flat: _flat,\n    tree: tree,\n    toggled: toggled\n  }))));\n});\nconst _excluded$1 = [\"isRoot\"];\nlet rootInitialized = false;\nlet rootEl = null;\nfunction Leva(_ref) {\n  let {\n      isRoot = false\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded$1);\n  useEffect(() => {\n    rootInitialized = true;\n    if (!isRoot && rootEl) {\n      rootEl.remove();\n      rootEl = null;\n    }\n    return () => {\n      if (!isRoot) rootInitialized = false;\n    };\n  }, [isRoot]);\n  return React.createElement(LevaRoot, _extends({\n    store: levaStore\n  }, props));\n}\nfunction useRenderRoot(isGlobalPanel) {\n  useEffect(() => {\n    if (isGlobalPanel && !rootInitialized) {\n      if (!rootEl) {\n        rootEl = document.getElementById('leva__root') || Object.assign(document.createElement('div'), {\n          id: 'leva__root'\n        });\n        if (document.body) {\n          document.body.appendChild(rootEl);\n          render(React.createElement(Leva, {\n            isRoot: true\n          }), rootEl);\n        }\n      }\n      rootInitialized = true;\n    }\n  }, [isGlobalPanel]);\n}\nconst _excluded = [\"store\"];\nfunction LevaPanel(_ref) {\n  let {\n      store\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const parentStore = useStoreContext();\n  const _store = store === undefined ? parentStore : store;\n  return React.createElement(LevaRoot, _extends({\n    store: _store\n  }, props));\n}\nfunction parseArgs(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined) {\n  let schema;\n  let folderName = undefined;\n  let folderSettings;\n  let hookSettings;\n  let deps;\n  if (typeof schemaOrFolderName === 'string') {\n    folderName = schemaOrFolderName;\n    schema = settingsOrDepsOrSchema;\n    if (Array.isArray(depsOrSettingsOrFolderSettings)) {\n      deps = depsOrSettingsOrFolderSettings;\n    } else {\n      if (depsOrSettingsOrFolderSettings) {\n        if ('store' in depsOrSettingsOrFolderSettings) {\n          hookSettings = depsOrSettingsOrFolderSettings;\n          deps = depsOrSettings;\n        } else {\n          folderSettings = depsOrSettingsOrFolderSettings;\n          if (Array.isArray(depsOrSettings)) {\n            deps = depsOrSettings;\n          } else {\n            hookSettings = depsOrSettings;\n            deps = depsOrUndefined;\n          }\n        }\n      }\n    }\n  } else {\n    schema = schemaOrFolderName;\n    if (Array.isArray(settingsOrDepsOrSchema)) {\n      deps = settingsOrDepsOrSchema;\n    } else {\n      hookSettings = settingsOrDepsOrSchema;\n      deps = depsOrSettingsOrFolderSettings;\n    }\n  }\n  return {\n    schema,\n    folderName,\n    folderSettings,\n    hookSettings,\n    deps: deps || []\n  };\n}\nfunction useControls(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined) {\n  const {\n    folderName,\n    schema,\n    folderSettings,\n    hookSettings,\n    deps\n  } = parseArgs(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined);\n  const schemaIsFunction = typeof schema === 'function';\n  const depsChanged = useRef(false);\n  const firstRender = useRef(true);\n  const _schema = useDeepMemo(() => {\n    depsChanged.current = true;\n    const s = typeof schema === 'function' ? schema() : schema;\n    return folderName ? {\n      [folderName]: folder(s, folderSettings)\n    } : s;\n  }, deps);\n  const isGlobalPanel = !(hookSettings !== null && hookSettings !== void 0 && hookSettings.store);\n  useRenderRoot(isGlobalPanel);\n  const [store] = useState(() => (hookSettings === null || hookSettings === void 0 ? void 0 : hookSettings.store) || levaStore);\n  const [initialData, mappedPaths] = useMemo(() => store.getDataFromSchema(_schema), [store, _schema]);\n  const [allPaths, renderPaths, onChangePaths, onEditStartPaths, onEditEndPaths] = useMemo(() => {\n    const allPaths = [];\n    const renderPaths = [];\n    const onChangePaths = {};\n    const onEditStartPaths = {};\n    const onEditEndPaths = {};\n    Object.values(mappedPaths).forEach(_ref33 => {\n      let {\n        path,\n        onChange,\n        onEditStart,\n        onEditEnd,\n        transient\n      } = _ref33;\n      allPaths.push(path);\n      if (!!onChange) {\n        onChangePaths[path] = onChange;\n        if (!transient) {\n          renderPaths.push(path);\n        }\n      } else {\n        renderPaths.push(path);\n      }\n      if (onEditStart) {\n        onEditStartPaths[path] = onEditStart;\n      }\n      if (onEditEnd) {\n        onEditEndPaths[path] = onEditEnd;\n      }\n    });\n    return [allPaths, renderPaths, onChangePaths, onEditStartPaths, onEditEndPaths];\n  }, [mappedPaths]);\n  const paths = useMemo(() => store.orderPaths(allPaths), [allPaths, store]);\n  const values = useValuesForPath(store, renderPaths, initialData);\n  const set = useCallback(values => {\n    const _values = Object.entries(values).reduce((acc, _ref34) => {\n      let [p, v] = _ref34;\n      return Object.assign(acc, {\n        [mappedPaths[p].path]: v\n      });\n    }, {});\n    store.set(_values, false);\n  }, [store, mappedPaths]);\n  const get = useCallback(path => store.get(mappedPaths[path].path), [store, mappedPaths]);\n  useEffect(() => {\n    const shouldOverrideSettings = !firstRender.current && depsChanged.current;\n    store.addData(initialData, shouldOverrideSettings);\n    firstRender.current = false;\n    depsChanged.current = false;\n    return () => store.disposePaths(paths);\n  }, [store, paths, initialData]);\n  useEffect(() => {\n    const unsubscriptions = [];\n    Object.entries(onChangePaths).forEach(_ref35 => {\n      let [path, onChange] = _ref35;\n      onChange(store.get(path), path, _objectSpread2({\n        initial: true,\n        get: store.get\n      }, store.getInput(path)));\n      const unsub = store.useStore.subscribe(s => {\n        const input = s.data[path];\n        const value = input.disabled ? undefined : input.value;\n        return [value, input];\n      }, _ref36 => {\n        let [value, input] = _ref36;\n        return onChange(value, path, _objectSpread2({\n          initial: false,\n          get: store.get\n        }, input));\n      }, {\n        equalityFn: shallow\n      });\n      unsubscriptions.push(unsub);\n    });\n    return () => unsubscriptions.forEach(unsub => unsub());\n  }, [store, onChangePaths]);\n  useEffect(() => {\n    const unsubscriptions = [];\n    Object.entries(onEditStartPaths).forEach(_ref37 => {\n      let [path, onEditStart] = _ref37;\n      return unsubscriptions.push(store.subscribeToEditStart(path, onEditStart));\n    });\n    Object.entries(onEditEndPaths).forEach(_ref38 => {\n      let [path, onEditEnd] = _ref38;\n      return unsubscriptions.push(store.subscribeToEditEnd(path, onEditEnd));\n    });\n    return () => unsubscriptions.forEach(unsub => unsub());\n  }, [onEditStartPaths, onEditEndPaths, store]);\n  if (schemaIsFunction) return [values, set, get];\n  return values;\n}\nregister(LevaInputs.SELECT, select);\nregister(LevaInputs.IMAGE, image);\nregister(LevaInputs.NUMBER, number$1);\nregister(LevaInputs.COLOR, color);\nregister(LevaInputs.STRING, string);\nregister(LevaInputs.BOOLEAN, boolean);\nregister(LevaInputs.INTERVAL, interval);\nregister(LevaInputs.VECTOR3D, vector3d);\nregister(LevaInputs.VECTOR2D, vector2d);\nexport { Leva, LevaPanel, button, buttonGroup, folder, levaStore, monitor, useControls, useCreateStore };","map":{"version":3,"names":["p","pick","_","_objectSpread2","o","omit","s","styled","u","useInputContext","R","Row","L","Label","V","ValueInput","P","Portal","O","Overlay","c","createInternalPlugin","a","Vector","g","getVectorPlugin","b","useTransform","d","useTh","e","useDrag","f","_extends","m","multiplyStep","h","clamp","i","_objectWithoutProperties","n","normalizeKeyedNumberSettings","j","invertedRange","k","sanitizeStep","r","range","l","RangeWrapper","q","Range","I","Indicator","S","Scrubber","t","getUid","v","SpecialInputs","w","warn","x","LevaErrors","y","updateInput","z","normalizeInput","A","useInputSetters","B","Plugins","C","InputContext","D","StyledInputWrapper","E","useStoreContext","F","useCanvas2d","G","useInput","H","log","J","StyledTitle","K","Chevron","M","StyledWrapper","N","StyledContent","Q","StyledFolder","T","StyledInputRow","U","debounce","W","globalStyles","X","PanelSettingsContext","Y","StoreContext","Z","mergeTheme","$","ThemeContext","a0","render","a1","register","a2","LevaInputs","a3","select","a4","number$1","a5","string","a6","boolean","a7","LevaStoreProvider","v8n","extend","colord","getFormat","namesPlugin","dequal","React","useRef","useMemo","useLayoutEffect","useEffect","useState","useCallback","forwardRef","useImperativeHandle","RgbaColorPicker","RgbColorPicker","shallow","useDropzone","create","subscribeWithSelector","merge","join","_len","arguments","length","args","Array","_key","filter","Boolean","getKeyPath","path","dir","split","pop","undefined","getValuesForPaths","data","paths","Object","entries","reduce","acc","_ref2","value","disabled","key","useCompareMemoize","deep","ref","compare","current","useDeepMemo","fn","deps","useToggle","toggled","wrapperRef","contentRef","firstRender","style","height","overflow","timeout","fixHeight","removeProperty","scrollIntoView","behavior","block","addEventListener","once","getBoundingClientRect","window","setTimeout","removeEventListener","clearTimeout","useVisiblePaths","store","setPaths","getVisiblePaths","unsub","useStore","subscribe","equalityFn","useValuesForPath","initialData","valuesForPath","usePopin","margin","popinRef","shown","setShow","show","hide","bottom","top","left","direction","innerHeight","position","zIndex","convertMap","rgb","hsl","hsv","hex","color","isValid","schema$2","test","convert","_ref3","format","hasAlpha","isString","convertFn","result","sanitize$2","settings","Error","format$1","normalize$3","_ref4","_f","props$2","freeze","__proto__","schema","sanitize","normalize","ColorPreview","boxSizing","borderRadius","cursor","width","backgroundColor","backgroundImage","$inputStyle","$hover","variants","active","true","content","right","PickerContainer","display","gridTemplateColumns","columnGap","alignItems","PickerWrapper","boxShadow","convertToRgb","toRgb","Color","_ref5","displayValue","onUpdate","emitOnEditStart","emitOnEditEnd","timer","initialRgb","setInitialRgb","ColorPicker","showPicker","hidePicker","hideAfterDelay","createElement","Fragment","onClick","onPointerUp","onMouseEnter","onMouseLeave","buttons","onChange","ColorComponent","label","input","component","Vector3dComponent","vector3d","JoystickTrigger","$flexCenter","touchAction","$draggable","JoystickPlayground","transform","isOutOfBounds","false","borderStyle","borderWidth","borderColor","zindex","Joystick","_ref6","outOfBoundsX","outOfBoundsY","stepMultiplier","joystickShown","setShowJoystick","setIsOutOfBounds","spanRef","set","joystickeRef","playgroundRef","keys","v1","v2","joystick","yFactor","step","stepV1","stepV2","wpx","hpx","parseFloat","startOutOfBounds","setInterval","incX","incY","isArray","endOutOfBounds","setStepMultiplier","event","bind","_ref7","first","delta","dx","dy","movement","mx","my","_x","_y","Math","abs","sign","newX","newY","Container$1","withJoystick","Vector2dComponent","_excluded$7","plugin","normalize$2","_ref","vector2d","sanitize$1","File","URL","createObjectURL","indexOf","schema$1","_o","normalize$1","_ref8","image","props$1","ImageContainer","DropZone","background","textAlign","outline","userSelect","$focusWithin","$active","isDragAccept","ImagePreview","backgroundSize","backgroundPosition","hasImage","ImageLargePreview","pointerEvents","Instructions","fontSize","padding","Remove","marginRight","ImageComponent","onDrop","acceptedFiles","clear","stopPropagation","getRootProps","getInputProps","maxFiles","accept","onPointerDown","number","array","every","min","max","_ref9","prevValue","bounds","MIN","MAX","_value","_newValue","Number","_ref10","boundsSettings","_settings","props","_excluded$6","_excluded2$1","Container","IntervalSlider","onDrag","minScrubberRef","maxScrubberRef","rangeWidth","scrubberWidth","_ref11","xy","memo","_memo","targetIsScrub","target","pos","newValue","minStyle","maxStyle","IntervalComponent","innerLabelTrim","interval","createEventEmitter","listenerMapping","Map","on","topic","listener","listeners","get","Set","add","off","delete","size","emit","_len2","_key2","_excluded$5","_excluded2","Store","eventEmitter","storeId","folders","orderedPaths","getData","hiddenFolders","forEach","_ref12","some","push","visiblePaths","__refCount","setOrderedPaths","newPaths","orderPaths","disposePaths","setState","type","dispose","getFolderSettings","getState","addData","newData","override","_ref13","newInputData","rest","INPUT_TYPE_OVERRIDE","assign","setValueAtPath","fromPanel","setSettingsAtPath","disableInputAtPath","flag","values","_ref14","process","env","NODE_ENV","console","getInput","PATH_DOESNT_EXIST","_this$getInput","subscribeToEditStart","_path","subscribeToEditEnd","_getDataFromSchema","rootPath","mappedPaths","_ref15","rawInput","EMPTY_KEY","newPath","FOLDER","DUPLICATE_KEYS","normalizedInput","options","transient","onEditStart","onEditEnd","_options","UNKNOWN_INPUT","getDataFromSchema","levaStore","useCreateStore","__STORE","defaultSettings$2","collapsed","folder","defaultSettings$1","button","BUTTON","buttonGroup","opts","BUTTON_GROUP","defaultSettings","graph","monitor","objectOrFn","MONITOR","isInput","buildTree","tree","_filter","toLowerCase","valueKey","folderPath","__levaInput","_excluded$4","ControlInput","setValue","Input","NO_COMPONENT_FOR_TYPE","Provider","id","StyledButton","$reset","fontWeight","$focus","Button","_ref16","StyledButtonGroup","$flex","justifyContent","gap","StyledButtonGroupButton","getOpts","_ref17","_label","_opts","trim","ButtonGroup","map","_ref18","Canvas","POINTS","arr","val","shift","MonitorCanvas","_ref19","initialValue","accentColor","fillColor","gradientTop","gradientBottom","alpha","toRgbString","points","raf","drawPlot","_canvas","_ctx","Path2D","verticalPadding","lineTo","clearRect","gradientPath","gradient","createLinearGradient","addColorStop","fillStyle","fill","strokeStyle","lineJoin","lineWidth","stroke","canvas","ctx","frame","requestAnimationFrame","cancelAnimationFrame","parse","isFinite","toPrecision","toString","MonitorLog","_ref20","getValue","Monitor","_ref21","_ref$current","document","hidden","clearInterval","align","_excluded$3","specialComponents","Control","_ref22","setSettings","disable","inputProps","SpecialInputForType","UNSUPPORTED_INPUT","FolderTitle","_ref23","toggle","name","Folder","_ref24","setToggle","folderRef","widgetColor","textColor","setProperty","TreeWrapper","parent","_ref25","isRoot","_isRoot","_fill","flat","_flat","getOrder","_ref26","_store$getInput","order","sort","_ref27","StyledRoot","fontFamily","oneLineLabels","gridAutoColumns","gridAutoRows","rowGap","marginTop","hideTitleBar","$$titleBarHeight","iconWidth","Icon","transition","StyledTitleWithFilter","mode","drag","FilterWrapper","paddingLeft","StyledFilterInput","flex","TitleContainer","filterEnabled","paddingRight","FilterInput","_ref28","setFilter","debouncedOnChange","_onChange","currentTarget","placeholder","visibility","xmlns","viewBox","fillRule","clipRule","TitleWithFilter","_ref29","onDragStart","onDragEnd","title","from","filterShown","setShowFilter","inputRef","_inputRef$current","_inputRef$current2","focus","blur","_ref30","offset","last","filterTaps","_ref31","handleShortcut","shiftKey","metaKey","cx","cy","_excluded$2","LevaRoot","theme","themeContext","computedToggled","computedSetToggle","LevaCore","rootClass","className","_ref32","neverHide","_neverHide","_oneLineLabels","titleBar","_titleBar","hideCopyButton","_hideCopyButton","_titleBar$drag","_titleBar$filter","rootRef","shouldShow","point","_excluded$1","rootInitialized","rootEl","Leva","remove","useRenderRoot","isGlobalPanel","getElementById","body","appendChild","_excluded","LevaPanel","parentStore","_store","parseArgs","schemaOrFolderName","settingsOrDepsOrSchema","depsOrSettingsOrFolderSettings","depsOrSettings","depsOrUndefined","folderName","folderSettings","hookSettings","useControls","schemaIsFunction","depsChanged","_schema","allPaths","renderPaths","onChangePaths","onEditStartPaths","onEditEndPaths","_ref33","_values","_ref34","shouldOverrideSettings","unsubscriptions","_ref35","initial","_ref36","_ref37","_ref38","SELECT","IMAGE","NUMBER","COLOR","STRING","BOOLEAN","INTERVAL","VECTOR3D","VECTOR2D"],"sources":["/home/edgar/Documents/Epitech/Tek2/Projects/React-Three-Js-Workshop2-edgar-dion/Workshop 2/node_modules/leva/dist/leva.esm.js"],"sourcesContent":["import { p as pick, _ as _objectSpread2, o as omit, s as styled, u as useInputContext, R as Row, L as Label, V as ValueInput, P as Portal, O as Overlay, c as createInternalPlugin, a as Vector, g as getVectorPlugin, b as useTransform, d as useTh, e as useDrag, f as _extends, m as multiplyStep, h as clamp, i as _objectWithoutProperties, n as normalizeKeyedNumberSettings, j as invertedRange, k as sanitizeStep, r as range, l as RangeWrapper, q as Range, I as Indicator, S as Scrubber, t as getUid, v as SpecialInputs, w as warn, x as LevaErrors, y as updateInput, z as normalizeInput, A as useInputSetters, B as Plugins, C as InputContext, D as StyledInputWrapper, E as useStoreContext, F as useCanvas2d, G as useInput, H as log, J as StyledTitle, K as Chevron, M as StyledWrapper, N as StyledContent, Q as StyledFolder, T as StyledInputRow, U as debounce, W as globalStyles, X as PanelSettingsContext, Y as StoreContext, Z as mergeTheme, $ as ThemeContext, a0 as render, a1 as register, a2 as LevaInputs, a3 as select, a4 as number$1, a5 as string, a6 as boolean } from './vector-plugin-6f82aee9.esm.js';\nexport { a2 as LevaInputs, a7 as LevaStoreProvider, E as useStoreContext } from './vector-plugin-6f82aee9.esm.js';\nimport v8n from 'v8n';\nimport { extend, colord, getFormat } from 'colord';\nimport namesPlugin from 'colord/plugins/names';\nimport { dequal } from 'dequal/lite';\nimport 'react-dom';\nimport React, { useRef, useMemo, useLayoutEffect, useEffect, useState, useCallback, forwardRef, useImperativeHandle } from 'react';\nimport { RgbaColorPicker, RgbColorPicker } from 'react-colorful';\nimport shallow from 'zustand/shallow';\nimport '@use-gesture/react';\nimport '@radix-ui/react-portal';\nimport '@radix-ui/react-tooltip';\nimport { useDropzone } from 'react-dropzone';\nimport create from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\nimport merge from 'merge-value';\nimport '@stitches/react';\n\nconst join = (...args) => args.filter(Boolean).join('.');\nfunction getKeyPath(path) {\n  const dir = path.split('.');\n  return [dir.pop(), dir.join('.') || undefined];\n}\n\nfunction getValuesForPaths(data, paths) {\n  return Object.entries(pick(data, paths)).reduce(\n\n  (acc, [, {\n    value,\n    disabled,\n    key\n  }]) => {\n    acc[key] = disabled ? undefined : value;\n    return acc;\n  }, {});\n}\n\nfunction useCompareMemoize(value, deep) {\n  const ref = useRef();\n  const compare = deep ? dequal : shallow;\n  if (!compare(value, ref.current)) {\n    ref.current = value;\n  }\n  return ref.current;\n}\n\nfunction useDeepMemo(fn, deps) {\n  return useMemo(fn, useCompareMemoize(deps, true));\n}\n\nfunction useToggle(toggled) {\n  const wrapperRef = useRef(null);\n  const contentRef = useRef(null);\n  const firstRender = useRef(true);\n\n  useLayoutEffect(() => {\n    if (!toggled) {\n      wrapperRef.current.style.height = '0px';\n      wrapperRef.current.style.overflow = 'hidden';\n    }\n  }, []);\n  useEffect(() => {\n    if (firstRender.current) {\n      firstRender.current = false;\n      return;\n    }\n    let timeout;\n    const ref = wrapperRef.current;\n    const fixHeight = () => {\n      if (toggled) {\n        ref.style.removeProperty('height');\n        ref.style.removeProperty('overflow');\n        contentRef.current.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest'\n        });\n      }\n    };\n    ref.addEventListener('transitionend', fixHeight, {\n      once: true\n    });\n    const {\n      height\n    } = contentRef.current.getBoundingClientRect();\n    ref.style.height = height + 'px';\n    if (!toggled) {\n      ref.style.overflow = 'hidden';\n      timeout = window.setTimeout(() => ref.style.height = '0px', 50);\n    }\n    return () => {\n      ref.removeEventListener('transitionend', fixHeight);\n      clearTimeout(timeout);\n    };\n  }, [toggled]);\n  return {\n    wrapperRef,\n    contentRef\n  };\n}\n\nconst useVisiblePaths = store => {\n  const [paths, setPaths] = useState(store.getVisiblePaths());\n  useEffect(() => {\n    setPaths(store.getVisiblePaths());\n    const unsub = store.useStore.subscribe(store.getVisiblePaths, setPaths, {\n      equalityFn: shallow\n    });\n    return () => unsub();\n  }, [store]);\n  return paths;\n};\n\nfunction useValuesForPath(store, paths, initialData) {\n  const valuesForPath = store.useStore(s => {\n    const data = _objectSpread2(_objectSpread2({}, initialData), s.data);\n    return getValuesForPaths(data, paths);\n  }, shallow);\n  return valuesForPath;\n}\n\nfunction usePopin(margin = 3) {\n  const popinRef = useRef(null);\n  const wrapperRef = useRef(null);\n  const [shown, setShow] = useState(false);\n  const show = useCallback(() => setShow(true), []);\n  const hide = useCallback(() => setShow(false), []);\n  useLayoutEffect(() => {\n    if (shown) {\n      const {\n        bottom,\n        top,\n        left\n      } = popinRef.current.getBoundingClientRect();\n      const {\n        height\n      } = wrapperRef.current.getBoundingClientRect();\n      const direction = bottom + height > window.innerHeight - 40 ? 'up' : 'down';\n      wrapperRef.current.style.position = 'fixed';\n      wrapperRef.current.style.zIndex = '10000';\n      wrapperRef.current.style.left = left + 'px';\n      if (direction === 'down') wrapperRef.current.style.top = bottom + margin + 'px';else wrapperRef.current.style.bottom = window.innerHeight - top + margin + 'px';\n    }\n  }, [margin, shown]);\n  return {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  };\n}\n\nextend([namesPlugin]);\nconst convertMap = {\n  rgb: 'toRgb',\n  hsl: 'toHsl',\n  hsv: 'toHsv',\n  hex: 'toHex'\n};\nv8n.extend({\n  color: () => value => colord(value).isValid()\n});\nconst schema$2 = o => v8n().color().test(o);\nfunction convert(color, {\n  format,\n  hasAlpha,\n  isString\n}) {\n  const convertFn = convertMap[format] + (isString && format !== 'hex' ? 'String' : '');\n  const result = color[convertFn]();\n  return typeof result === 'object' && !hasAlpha ? omit(result, ['a']) : result;\n}\nconst sanitize$2 = (v, settings) => {\n  const color = colord(v);\n  if (!color.isValid()) throw Error('Invalid color');\n  return convert(color, settings);\n};\nconst format$1 = (v, settings) => {\n  return convert(colord(v), _objectSpread2(_objectSpread2({}, settings), {}, {\n    isString: true,\n    format: 'hex'\n  }));\n};\nconst normalize$3 = ({\n  value\n}) => {\n  const _f = getFormat(value);\n  const format = _f === 'name' ? 'hex' : _f;\n  const hasAlpha = typeof value === 'object' ? 'a' in value : _f === 'hex' && value.length === 8 || /^(rgba)|(hsla)|(hsva)/.test(value);\n  const settings = {\n    format,\n    hasAlpha,\n    isString: typeof value === 'string'\n  };\n\n  return {\n    value: sanitize$2(value, settings),\n    settings\n  };\n};\n\nvar props$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$2,\n  sanitize: sanitize$2,\n  format: format$1,\n  normalize: normalize$3\n});\n\nconst ColorPreview = styled('div', {\n  position: 'relative',\n  boxSizing: 'border-box',\n  borderRadius: '$sm',\n  overflow: 'hidden',\n  cursor: 'pointer',\n  height: '$rowHeight',\n  width: '$rowHeight',\n  backgroundColor: '#fff',\n  backgroundImage: `url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill-opacity=\".05\"><path d=\"M8 0h8v8H8zM0 8h8v8H0z\"/></svg>')`,\n  $inputStyle: '',\n  $hover: '',\n  zIndex: 1,\n  variants: {\n    active: {\n      true: {\n        $inputStyle: '$accent1'\n      }\n    }\n  },\n  '&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    right: 0,\n    left: 0,\n    backgroundColor: 'currentColor',\n    zIndex: 1\n  }\n});\nconst PickerContainer = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '$sizes$rowHeight auto',\n  columnGap: '$colGap',\n  alignItems: 'center'\n});\nconst PickerWrapper = styled('div', {\n  width: '$colorPickerWidth',\n  height: '$colorPickerHeight',\n  '.react-colorful': {\n    width: '100%',\n    height: '100%',\n    boxShadow: '$level2',\n    cursor: 'crosshair'\n  },\n  '.react-colorful__saturation': {\n    borderRadius: '$sm $sm 0 0'\n  },\n  '.react-colorful__alpha, .react-colorful__hue': {\n    height: 10\n  },\n  '.react-colorful__last-control': {\n    borderRadius: '0 0 $sm $sm'\n  },\n  '.react-colorful__pointer': {\n    height: 12,\n    width: 12\n  }\n});\n\nfunction convertToRgb(value, format) {\n  return format !== 'rgb' ? colord(value).toRgb() : value;\n}\nfunction Color({\n  value,\n  displayValue,\n  settings,\n  onUpdate\n}) {\n  const {\n    emitOnEditStart,\n    emitOnEditEnd\n  } = useInputContext();\n  const {\n    format,\n    hasAlpha\n  } = settings;\n  const {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  } = usePopin();\n\n  const timer = useRef(0);\n\n  const [initialRgb, setInitialRgb] = useState(() => convertToRgb(value, format));\n  const ColorPicker = hasAlpha ? RgbaColorPicker : RgbColorPicker;\n  const showPicker = () => {\n    setInitialRgb(convertToRgb(value, format));\n    show();\n    emitOnEditStart();\n  };\n  const hidePicker = () => {\n    hide();\n    emitOnEditEnd();\n    window.clearTimeout(timer.current);\n  };\n  const hideAfterDelay = () => {\n    timer.current = window.setTimeout(hidePicker, 500);\n  };\n  useEffect(() => {\n    return () => window.clearTimeout(timer.current);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(ColorPreview, {\n    ref: popinRef,\n    active: shown,\n    onClick: () => showPicker(),\n    style: {\n      color: displayValue\n    }\n  }), shown && React.createElement(Portal, null, React.createElement(Overlay, {\n    onPointerUp: hidePicker\n  }), React.createElement(PickerWrapper, {\n    ref: wrapperRef,\n    onMouseEnter: () => window.clearTimeout(timer.current),\n    onMouseLeave: e => e.buttons === 0 && hideAfterDelay()\n  }, React.createElement(ColorPicker, {\n    color: initialRgb,\n    onChange: onUpdate\n  }))));\n}\nfunction ColorComponent() {\n  const {\n    value,\n    displayValue,\n    label,\n    onChange,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(PickerContainer, null, React.createElement(Color, {\n    value: value,\n    displayValue: displayValue,\n    onChange: onChange,\n    onUpdate: onUpdate,\n    settings: settings\n  }), React.createElement(ValueInput, {\n    value: displayValue,\n    onChange: onChange,\n    onUpdate: onUpdate\n  })));\n}\n\nvar color = createInternalPlugin(_objectSpread2({\n  component: ColorComponent\n}, props$2));\n\nfunction Vector3dComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Vector, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  }));\n}\n\nvar vector3d = createInternalPlugin(_objectSpread2({\n  component: Vector3dComponent\n}, getVectorPlugin(['x', 'y', 'z'])));\n\nconst JoystickTrigger = styled('div', {\n  $flexCenter: '',\n  position: 'relative',\n  backgroundColor: '$elevation3',\n  borderRadius: '$sm',\n  cursor: 'pointer',\n  height: '$rowHeight',\n  width: '$rowHeight',\n  touchAction: 'none',\n  $draggable: '',\n  $hover: '',\n  '&:active': {\n    cursor: 'none'\n  },\n  '&::after': {\n    content: '\"\"',\n    backgroundColor: '$accent2',\n    height: 4,\n    width: 4,\n    borderRadius: 2\n  }\n});\nconst JoystickPlayground = styled('div', {\n  $flexCenter: '',\n  width: '$joystickWidth',\n  height: '$joystickHeight',\n  borderRadius: '$sm',\n  boxShadow: '$level2',\n  position: 'fixed',\n  zIndex: 10000,\n  overflow: 'hidden',\n  $draggable: '',\n  transform: 'translate(-50%, -50%)',\n  variants: {\n    isOutOfBounds: {\n      true: {\n        backgroundColor: '$elevation1'\n      },\n      false: {\n        backgroundColor: '$elevation3'\n      }\n    }\n  },\n  '> div': {\n    position: 'absolute',\n    $flexCenter: '',\n    borderStyle: 'solid',\n    borderWidth: 1,\n    borderColor: '$highlight1',\n    backgroundColor: '$elevation3',\n    width: '80%',\n    height: '80%',\n    '&::after,&::before': {\n      content: '\"\"',\n      position: 'absolute',\n      zindex: 10,\n      backgroundColor: '$highlight1'\n    },\n    '&::before': {\n      width: '100%',\n      height: 1\n    },\n    '&::after': {\n      height: '100%',\n      width: 1\n    }\n  },\n  '> span': {\n    position: 'relative',\n    zindex: 100,\n    width: 10,\n    height: 10,\n    backgroundColor: '$accent2',\n    borderRadius: '50%'\n  }\n});\n\nfunction Joystick({\n  value,\n  settings,\n  onUpdate\n}) {\n  const timeout = useRef();\n  const outOfBoundsX = useRef(0);\n  const outOfBoundsY = useRef(0);\n  const stepMultiplier = useRef(1);\n  const [joystickShown, setShowJoystick] = useState(false);\n  const [isOutOfBounds, setIsOutOfBounds] = useState(false);\n  const [spanRef, set] = useTransform();\n  const joystickeRef = useRef(null);\n  const playgroundRef = useRef(null);\n  useLayoutEffect(() => {\n    if (joystickShown) {\n      const {\n        top,\n        left,\n        width,\n        height\n      } = joystickeRef.current.getBoundingClientRect();\n      playgroundRef.current.style.left = left + width / 2 + 'px';\n      playgroundRef.current.style.top = top + height / 2 + 'px';\n    }\n  }, [joystickShown]);\n  const {\n    keys: [v1, v2],\n    joystick\n  } = settings;\n  const yFactor = joystick === 'invertY' ? 1 : -1;\n  const {\n    [v1]: {\n      step: stepV1\n    },\n    [v2]: {\n      step: stepV2\n    }\n  } = settings;\n  const wpx = useTh('sizes', 'joystickWidth');\n  const hpx = useTh('sizes', 'joystickHeight');\n  const w = parseFloat(wpx) * 0.8 / 2;\n  const h = parseFloat(hpx) * 0.8 / 2;\n  const startOutOfBounds = useCallback(() => {\n    if (timeout.current) return;\n    setIsOutOfBounds(true);\n    if (outOfBoundsX.current) set({\n      x: outOfBoundsX.current * w\n    });\n    if (outOfBoundsY.current) set({\n      y: outOfBoundsY.current * -h\n    });\n    timeout.current = window.setInterval(() => {\n      onUpdate(v => {\n        const incX = stepV1 * outOfBoundsX.current * stepMultiplier.current;\n        const incY = yFactor * stepV2 * outOfBoundsY.current * stepMultiplier.current;\n        return Array.isArray(v) ? {\n          [v1]: v[0] + incX,\n          [v2]: v[1] + incY\n        } : {\n          [v1]: v[v1] + incX,\n          [v2]: v[v2] + incY\n        };\n      });\n    }, 16);\n  }, [w, h, onUpdate, set, stepV1, stepV2, v1, v2, yFactor]);\n  const endOutOfBounds = useCallback(() => {\n    window.clearTimeout(timeout.current);\n    timeout.current = undefined;\n    setIsOutOfBounds(false);\n  }, []);\n  useEffect(() => {\n    function setStepMultiplier(event) {\n      stepMultiplier.current = multiplyStep(event);\n    }\n    window.addEventListener('keydown', setStepMultiplier);\n    window.addEventListener('keyup', setStepMultiplier);\n    return () => {\n      window.clearTimeout(timeout.current);\n      window.removeEventListener('keydown', setStepMultiplier);\n      window.removeEventListener('keyup', setStepMultiplier);\n    };\n  }, []);\n  const bind = useDrag(({\n    first,\n    active,\n    delta: [dx, dy],\n    movement: [mx, my]\n  }) => {\n    if (first) setShowJoystick(true);\n    const _x = clamp(mx, -w, w);\n    const _y = clamp(my, -h, h);\n    outOfBoundsX.current = Math.abs(mx) > Math.abs(_x) ? Math.sign(mx - _x) : 0;\n    outOfBoundsY.current = Math.abs(my) > Math.abs(_y) ? Math.sign(_y - my) : 0;\n\n    let newX = value[v1];\n    let newY = value[v2];\n    if (active) {\n      if (!outOfBoundsX.current) {\n        newX += dx * stepV1 * stepMultiplier.current;\n        set({\n          x: _x\n        });\n      }\n      if (!outOfBoundsY.current) {\n        newY -= yFactor * dy * stepV2 * stepMultiplier.current;\n        set({\n          y: _y\n        });\n      }\n      if (outOfBoundsX.current || outOfBoundsY.current) startOutOfBounds();else endOutOfBounds();\n      onUpdate({\n        [v1]: newX,\n        [v2]: newY\n      });\n    } else {\n      setShowJoystick(false);\n      outOfBoundsX.current = 0;\n      outOfBoundsY.current = 0;\n      set({\n        x: 0,\n        y: 0\n      });\n      endOutOfBounds();\n    }\n  });\n  return React.createElement(JoystickTrigger, _extends({\n    ref: joystickeRef\n  }, bind()), joystickShown && React.createElement(Portal, null, React.createElement(JoystickPlayground, {\n    ref: playgroundRef,\n    isOutOfBounds: isOutOfBounds\n  }, React.createElement(\"div\", null), React.createElement(\"span\", {\n    ref: spanRef\n  }))));\n}\n\nconst Container$1 = styled('div', {\n  display: 'grid',\n  columnGap: '$colGap',\n  variants: {\n    withJoystick: {\n      true: {\n        gridTemplateColumns: '$sizes$rowHeight auto'\n      },\n      false: {\n        gridTemplateColumns: 'auto'\n      }\n    }\n  }\n});\nfunction Vector2dComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Container$1, {\n    withJoystick: !!settings.joystick\n  }, settings.joystick && React.createElement(Joystick, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  }), React.createElement(Vector, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  })));\n}\n\nconst _excluded$7 = [\"joystick\"];\nconst plugin = getVectorPlugin(['x', 'y']);\nconst normalize$2 = _ref => {\n  let {\n      joystick = true\n    } = _ref,\n    input = _objectWithoutProperties(_ref, _excluded$7);\n  const {\n    value,\n    settings\n  } = plugin.normalize(input);\n  return {\n    value,\n    settings: _objectSpread2(_objectSpread2({}, settings), {}, {\n      joystick\n    })\n  };\n};\nvar vector2d = createInternalPlugin(_objectSpread2(_objectSpread2({\n  component: Vector2dComponent\n}, plugin), {}, {\n  normalize: normalize$2\n}));\n\nconst sanitize$1 = v => {\n  if (v === undefined) return undefined;\n  if (v instanceof File) {\n    try {\n      return URL.createObjectURL(v);\n    } catch (e) {\n      return undefined;\n    }\n  }\n  if (typeof v === 'string' && v.indexOf('blob:') === 0) return v;\n  throw Error(`Invalid image format [undefined | blob |Â File].`);\n};\nconst schema$1 = (_o, s) => typeof s === 'object' && 'image' in s;\nconst normalize$1 = ({\n  image\n}) => {\n  return {\n    value: image\n  };\n};\n\nvar props$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  sanitize: sanitize$1,\n  schema: schema$1,\n  normalize: normalize$1\n});\n\nconst ImageContainer = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '$sizes$rowHeight auto 20px',\n  columnGap: '$colGap',\n  alignItems: 'center'\n});\nconst DropZone = styled('div', {\n  $flexCenter: '',\n  overflow: 'hidden',\n  height: '$rowHeight',\n  background: '$elevation3',\n  textAlign: 'center',\n  color: 'inherit',\n  borderRadius: '$sm',\n  outline: 'none',\n  userSelect: 'none',\n  cursor: 'pointer',\n  $inputStyle: '',\n  $hover: '',\n  $focusWithin: '',\n  $active: '$accent1 $elevation1',\n  variants: {\n    isDragAccept: {\n      true: {\n        $inputStyle: '$accent1',\n        backgroundColor: '$elevation1'\n      }\n    }\n  }\n});\nconst ImagePreview = styled('div', {\n  boxSizing: 'border-box',\n  borderRadius: '$sm',\n  height: '$rowHeight',\n  width: '$rowHeight',\n  $inputStyle: '',\n  backgroundSize: 'cover',\n  backgroundPosition: 'center',\n  variants: {\n    hasImage: {\n      true: {\n        cursor: 'pointer',\n        $hover: '',\n        $active: ''\n      }\n    }\n  }\n});\nconst ImageLargePreview = styled('div', {\n  $flexCenter: '',\n  width: '$imagePreviewWidth',\n  height: '$imagePreviewHeight',\n  borderRadius: '$sm',\n  boxShadow: '$level2',\n  pointerEvents: 'none',\n  $inputStyle: '',\n  backgroundSize: 'cover',\n  backgroundPosition: 'center'\n});\nconst Instructions = styled('div', {\n  fontSize: '0.8em',\n  height: '100%',\n  padding: '$rowGap $md'\n});\nconst Remove = styled('div', {\n  $flexCenter: '',\n  top: '0',\n  right: '0',\n  marginRight: '$sm',\n  height: '100%',\n  cursor: 'pointer',\n  variants: {\n    disabled: {\n      true: {\n        color: '$elevation3',\n        cursor: 'default'\n      }\n    }\n  },\n  '&::after,&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    height: 2,\n    width: 10,\n    borderRadius: 1,\n    backgroundColor: 'currentColor'\n  },\n  '&::after': {\n    transform: 'rotate(45deg)'\n  },\n  '&::before': {\n    transform: 'rotate(-45deg)'\n  }\n});\n\nfunction ImageComponent() {\n  const {\n    label,\n    value,\n    onUpdate,\n    disabled\n  } = useInputContext();\n  const {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  } = usePopin();\n  const onDrop = useCallback(acceptedFiles => {\n    if (acceptedFiles.length) onUpdate(acceptedFiles[0]);\n  }, [onUpdate]);\n  const clear = useCallback(e => {\n    e.stopPropagation();\n    onUpdate(undefined);\n  }, [onUpdate]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragAccept\n  } = useDropzone({\n    maxFiles: 1,\n    accept: 'image/*',\n    onDrop,\n    disabled\n  });\n\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(ImageContainer, null, React.createElement(ImagePreview, {\n    ref: popinRef,\n    hasImage: !!value,\n    onPointerDown: () => !!value && show(),\n    onPointerUp: hide,\n    style: {\n      backgroundImage: value ? `url(${value})` : 'none'\n    }\n  }), shown && !!value && React.createElement(Portal, null, React.createElement(Overlay, {\n    onPointerUp: hide,\n    style: {\n      cursor: 'pointer'\n    }\n  }), React.createElement(ImageLargePreview, {\n    ref: wrapperRef,\n    style: {\n      backgroundImage: `url(${value})`\n    }\n  })), React.createElement(DropZone, getRootProps({\n    isDragAccept\n  }), React.createElement(\"input\", getInputProps()), React.createElement(Instructions, null, isDragAccept ? 'drop image' : 'click or drop')), React.createElement(Remove, {\n    onClick: clear,\n    disabled: !value\n  })));\n}\n\nvar image = createInternalPlugin(_objectSpread2({\n  component: ImageComponent\n}, props$1));\n\nconst number = v8n().number();\nconst schema = (o, s) => v8n().array().length(2).every.number().test(o) && v8n().schema({\n  min: number,\n  max: number\n}).test(s);\nconst format = v => ({\n  min: v[0],\n  max: v[1]\n});\nconst sanitize = (value, {\n  bounds: [MIN, MAX]\n}, prevValue) => {\n  const _value = Array.isArray(value) ? format(value) : value;\n  const _newValue = {\n    min: prevValue[0],\n    max: prevValue[1]\n  };\n  const {\n    min,\n    max\n  } = _objectSpread2(_objectSpread2({}, _newValue), _value);\n  return [clamp(Number(min), MIN, Math.max(MIN, max)), clamp(Number(max), Math.min(MAX, min), MAX)];\n};\nconst normalize = ({\n  value,\n  min,\n  max\n}) => {\n  const boundsSettings = {\n    min,\n    max\n  };\n  const _settings = normalizeKeyedNumberSettings(format(value), {\n    min: boundsSettings,\n    max: boundsSettings\n  });\n  const bounds = [min, max];\n  const settings = _objectSpread2(_objectSpread2({}, _settings), {}, {\n    bounds\n  });\n\n  const _value = sanitize(format(value), settings, value);\n  return {\n    value: _value,\n    settings\n  };\n};\n\nvar props = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema,\n  format: format,\n  sanitize: sanitize,\n  normalize: normalize\n});\n\nconst _excluded$6 = [\"value\", \"bounds\", \"onDrag\"],\n  _excluded2$1 = [\"bounds\"];\nconst Container = styled('div', {\n  display: 'grid',\n  columnGap: '$colGap',\n  gridTemplateColumns: 'auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)'\n});\nfunction IntervalSlider(_ref) {\n  let {\n      value,\n      bounds: [min, max],\n      onDrag\n    } = _ref,\n    settings = _objectWithoutProperties(_ref, _excluded$6);\n  const ref = useRef(null);\n  const minScrubberRef = useRef(null);\n  const maxScrubberRef = useRef(null);\n  const rangeWidth = useRef(0);\n  const scrubberWidth = useTh('sizes', 'scrubberWidth');\n  const bind = useDrag(({\n    event,\n    first,\n    xy: [x],\n    movement: [mx],\n    memo: _memo = {}\n  }) => {\n    if (first) {\n      const {\n        width,\n        left\n      } = ref.current.getBoundingClientRect();\n      rangeWidth.current = width - parseFloat(scrubberWidth);\n      const targetIsScrub = (event === null || event === void 0 ? void 0 : event.target) === minScrubberRef.current || (event === null || event === void 0 ? void 0 : event.target) === maxScrubberRef.current;\n      _memo.pos = invertedRange((x - left) / width, min, max);\n      const delta = Math.abs(_memo.pos - value.min) - Math.abs(_memo.pos - value.max);\n      _memo.key = delta < 0 || delta === 0 && _memo.pos <= value.min ? 'min' : 'max';\n      if (targetIsScrub) _memo.pos = value[_memo.key];\n    }\n    const newValue = _memo.pos + invertedRange(mx / rangeWidth.current, 0, max - min);\n    onDrag({\n      [_memo.key]: sanitizeStep(newValue, settings[_memo.key])\n    });\n    return _memo;\n  });\n  const minStyle = `calc(${range(value.min, min, max)} * (100% - ${scrubberWidth} - 8px) + 4px)`;\n  const maxStyle = `calc(${1 - range(value.max, min, max)} * (100% - ${scrubberWidth} - 8px) + 4px)`;\n  return React.createElement(RangeWrapper, _extends({\n    ref: ref\n  }, bind()), React.createElement(Range, null, React.createElement(Indicator, {\n    style: {\n      left: minStyle,\n      right: maxStyle\n    }\n  })), React.createElement(Scrubber, {\n    position: \"left\",\n    ref: minScrubberRef,\n    style: {\n      left: minStyle\n    }\n  }), React.createElement(Scrubber, {\n    position: \"right\",\n    ref: maxScrubberRef,\n    style: {\n      right: maxStyle\n    }\n  }));\n}\nfunction IntervalComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  const _settings = _objectWithoutProperties(settings, _excluded2$1);\n  return React.createElement(React.Fragment, null, React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Container, null, React.createElement(IntervalSlider, _extends({\n    value: displayValue\n  }, settings, {\n    onDrag: onUpdate\n  })), React.createElement(Vector, {\n    value: displayValue,\n    settings: _settings,\n    onUpdate: onUpdate,\n    innerLabelTrim: 0\n  }))));\n}\n\nvar interval = createInternalPlugin(_objectSpread2({\n  component: IntervalComponent\n}, props));\n\nconst createEventEmitter = () => {\n  const listenerMapping = new Map();\n  return {\n    on: (topic, listener) => {\n      let listeners = listenerMapping.get(topic);\n      if (listeners === undefined) {\n        listeners = new Set();\n        listenerMapping.set(topic, listeners);\n      }\n      listeners.add(listener);\n    },\n    off: (topic, listener) => {\n      const listeners = listenerMapping.get(topic);\n      if (listeners === undefined) {\n        return;\n      }\n      listeners.delete(listener);\n      if (listeners.size === 0) {\n        listenerMapping.delete(topic);\n      }\n    },\n    emit: (topic, ...args) => {\n      const listeners = listenerMapping.get(topic);\n      if (listeners === undefined) {\n        return;\n      }\n      for (const listener of listeners) {\n        listener(...args);\n      }\n    }\n  };\n};\n\nconst _excluded$5 = [\"type\", \"value\"],\n  _excluded2 = [\"onChange\", \"transient\", \"onEditStart\", \"onEditEnd\"];\nconst Store = function Store() {\n  const store = create(subscribeWithSelector(() => ({\n    data: {}\n  })));\n  const eventEmitter = createEventEmitter();\n  this.storeId = getUid();\n  this.useStore = store;\n  const folders = {};\n\n  const orderedPaths = new Set();\n\n  this.getVisiblePaths = () => {\n    const data = this.getData();\n    const paths = Object.keys(data);\n    const hiddenFolders = [];\n    Object.entries(folders).forEach(([path, settings]) => {\n      if (\n      settings.render &&\n      paths.some(p => p.indexOf(path) === 0) &&\n      !settings.render(this.get))\n        hiddenFolders.push(path + '.');\n    });\n    const visiblePaths = [];\n    orderedPaths.forEach(path => {\n      if (path in data &&\n      data[path].__refCount > 0 &&\n      hiddenFolders.every(p => path.indexOf(p) === -1) && (\n      !data[path].render || data[path].render(this.get))) {\n        visiblePaths.push(path);\n      }\n    });\n    return visiblePaths;\n  };\n\n  this.setOrderedPaths = newPaths => {\n    newPaths.forEach(p => orderedPaths.add(p));\n  };\n  this.orderPaths = paths => {\n    this.setOrderedPaths(paths);\n    return paths;\n  };\n\n  this.disposePaths = paths => {\n    store.setState(s => {\n      const data = s.data;\n      paths.forEach(path => {\n        if (path in data) {\n          const input = data[path];\n          input.__refCount--;\n          if (input.__refCount === 0 && input.type in SpecialInputs) {\n            delete data[path];\n          }\n        }\n      });\n      return {\n        data\n      };\n    });\n  };\n  this.dispose = () => {\n    store.setState(() => {\n      return {\n        data: {}\n      };\n    });\n  };\n  this.getFolderSettings = path => {\n    return folders[path] || {};\n  };\n\n  this.getData = () => {\n    return store.getState().data;\n  };\n\n  this.addData = (newData, override) => {\n    store.setState(s => {\n      const data = s.data;\n      Object.entries(newData).forEach(([path, newInputData]) => {\n        let input = data[path];\n\n        if (!!input) {\n          const {\n              type,\n              value\n            } = newInputData,\n            rest = _objectWithoutProperties(newInputData, _excluded$5);\n          if (type !== input.type) {\n            warn(LevaErrors.INPUT_TYPE_OVERRIDE, type);\n          } else {\n            if (input.__refCount === 0 || override) {\n              Object.assign(input, rest);\n            }\n            input.__refCount++;\n          }\n        } else {\n          data[path] = _objectSpread2(_objectSpread2({}, newInputData), {}, {\n            __refCount: 1\n          });\n        }\n      });\n\n      return {\n        data\n      };\n    });\n  };\n\n  this.setValueAtPath = (path, value, fromPanel) => {\n    store.setState(s => {\n      const data = s.data;\n      updateInput(data[path], value, path, this, fromPanel);\n      return {\n        data\n      };\n    });\n  };\n  this.setSettingsAtPath = (path, settings) => {\n    store.setState(s => {\n      const data = s.data;\n      data[path].settings = _objectSpread2(_objectSpread2({}, data[path].settings), settings);\n      return {\n        data\n      };\n    });\n  };\n  this.disableInputAtPath = (path, flag) => {\n    store.setState(s => {\n      const data = s.data;\n      data[path].disabled = flag;\n      return {\n        data\n      };\n    });\n  };\n  this.set = (values, fromPanel) => {\n    store.setState(s => {\n      const data = s.data;\n      Object.entries(values).forEach(([path, value]) => {\n        try {\n          updateInput(data[path], value, undefined, undefined, fromPanel);\n        } catch (e) {\n          if (process.env.NODE_ENV === 'development') {\n            console.warn(`[This message will only show in development]: \\`set\\` for path ${path} has failed.`, e);\n          }\n        }\n      });\n      return {\n        data\n      };\n    });\n  };\n  this.getInput = path => {\n    try {\n      return this.getData()[path];\n    } catch (e) {\n      warn(LevaErrors.PATH_DOESNT_EXIST, path);\n    }\n  };\n  this.get = path => {\n    var _this$getInput;\n    return (_this$getInput = this.getInput(path)) === null || _this$getInput === void 0 ? void 0 : _this$getInput.value;\n  };\n  this.emitOnEditStart = path => {\n    eventEmitter.emit(`onEditStart:${path}`, this.get(path), path, _objectSpread2(_objectSpread2({}, this.getInput(path)), {}, {\n      get: this.get\n    }));\n  };\n  this.emitOnEditEnd = path => {\n    eventEmitter.emit(`onEditEnd:${path}`, this.get(path), path, _objectSpread2(_objectSpread2({}, this.getInput(path)), {}, {\n      get: this.get\n    }));\n  };\n  this.subscribeToEditStart = (path, listener) => {\n    const _path = `onEditStart:${path}`;\n    eventEmitter.on(_path, listener);\n    return () => eventEmitter.off(_path, listener);\n  };\n  this.subscribeToEditEnd = (path, listener) => {\n    const _path = `onEditEnd:${path}`;\n    eventEmitter.on(_path, listener);\n    return () => eventEmitter.off(_path, listener);\n  };\n\n  const _getDataFromSchema = (schema, rootPath, mappedPaths) => {\n    const data = {};\n    Object.entries(schema).forEach(([key, rawInput]) => {\n      if (key === '') return warn(LevaErrors.EMPTY_KEY);\n      let newPath = join(rootPath, key);\n\n      if (rawInput.type === SpecialInputs.FOLDER) {\n        const newData = _getDataFromSchema(rawInput.schema, newPath, mappedPaths);\n        Object.assign(data, newData);\n\n        if (!(newPath in folders)) folders[newPath] = rawInput.settings;\n      } else if (key in mappedPaths) {\n        warn(LevaErrors.DUPLICATE_KEYS, key, newPath, mappedPaths[key].path);\n      } else {\n        const normalizedInput = normalizeInput(rawInput, key, newPath, data);\n        if (normalizedInput) {\n          const {\n            type,\n            options,\n            input\n          } = normalizedInput;\n          const {\n              onChange,\n              transient,\n              onEditStart,\n              onEditEnd\n            } = options,\n            _options = _objectWithoutProperties(options, _excluded2);\n          data[newPath] = _objectSpread2(_objectSpread2(_objectSpread2({\n            type\n          }, _options), input), {}, {\n            fromPanel: true\n          });\n          mappedPaths[key] = {\n            path: newPath,\n            onChange,\n            transient,\n            onEditStart,\n            onEditEnd\n          };\n        } else {\n          warn(LevaErrors.UNKNOWN_INPUT, newPath, rawInput);\n        }\n      }\n    });\n    return data;\n  };\n  this.getDataFromSchema = schema => {\n    const mappedPaths = {};\n    const data = _getDataFromSchema(schema, '', mappedPaths);\n    return [data, mappedPaths];\n  };\n};\nconst levaStore = new Store();\nfunction useCreateStore() {\n  return useMemo(() => new Store(), []);\n}\nif (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\n  window.__STORE = levaStore;\n}\n\nconst defaultSettings$2 = {\n  collapsed: false\n};\nfunction folder(schema, settings) {\n  return {\n    type: SpecialInputs.FOLDER,\n    schema,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings$2), settings)\n  };\n}\n\nconst defaultSettings$1 = {\n  disabled: false\n};\n\nfunction button(onClick, settings) {\n  return {\n    type: SpecialInputs.BUTTON,\n    onClick,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings$1), settings)\n  };\n}\n\nfunction buttonGroup(opts) {\n  return {\n    type: SpecialInputs.BUTTON_GROUP,\n    opts\n  };\n}\n\nconst defaultSettings = {\n  graph: false,\n  interval: 100\n};\nfunction monitor(objectOrFn, settings) {\n  return {\n    type: SpecialInputs.MONITOR,\n    objectOrFn,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings), settings)\n  };\n}\n\nconst isInput = v => '__levaInput' in v;\nconst buildTree = (paths, filter) => {\n  const tree = {};\n  const _filter = filter ? filter.toLowerCase() : null;\n  paths.forEach(path => {\n    const [valueKey, folderPath] = getKeyPath(path);\n    if (!_filter || valueKey.toLowerCase().indexOf(_filter) > -1) {\n      merge(tree, folderPath, {\n        [valueKey]: {\n          __levaInput: true,\n          path\n        }\n      });\n    }\n  });\n  return tree;\n};\n\nconst _excluded$4 = [\"type\", \"label\", \"path\", \"valueKey\", \"value\", \"settings\", \"setValue\", \"disabled\"];\nfunction ControlInput(_ref) {\n  let {\n      type,\n      label,\n      path,\n      valueKey,\n      value,\n      settings,\n      setValue,\n      disabled\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, _excluded$4);\n  const {\n    displayValue,\n    onChange,\n    onUpdate\n  } = useInputSetters({\n    type,\n    value,\n    settings,\n    setValue\n  });\n  const Input = Plugins[type].component;\n  if (!Input) {\n    warn(LevaErrors.NO_COMPONENT_FOR_TYPE, type, path);\n    return null;\n  }\n  return React.createElement(InputContext.Provider, {\n    value: _objectSpread2({\n      key: valueKey,\n      path,\n      id: '' + path,\n      label,\n      displayValue,\n      value,\n      onChange,\n      onUpdate,\n      settings,\n      setValue,\n      disabled\n    }, rest)\n  }, React.createElement(StyledInputWrapper, {\n    disabled: disabled\n  }, React.createElement(Input, null)));\n}\n\nconst StyledButton = styled('button', {\n  display: 'block',\n  $reset: '',\n  fontWeight: '$button',\n  height: '$rowHeight',\n  borderStyle: 'none',\n  borderRadius: '$sm',\n  backgroundColor: '$elevation1',\n  color: '$highlight1',\n  '&:not(:disabled)': {\n    color: '$highlight3',\n    backgroundColor: '$accent2',\n    cursor: 'pointer',\n    $hover: '$accent3',\n    $active: '$accent3 $accent1',\n    $focus: ''\n  }\n});\n\nfunction Button({\n  onClick,\n  settings,\n  label\n}) {\n  const store = useStoreContext();\n  return React.createElement(Row, null, React.createElement(StyledButton, {\n    disabled: settings.disabled,\n    onClick: () => onClick(store.get)\n  }, label));\n}\n\nconst StyledButtonGroup = styled('div', {\n  $flex: '',\n  justifyContent: 'flex-end',\n  gap: '$colGap'\n});\n\nconst StyledButtonGroupButton = styled('button', {\n  $reset: '',\n  cursor: 'pointer',\n  borderRadius: '$xs',\n  '&:hover': {\n    backgroundColor: '$elevation3'\n  }\n});\n\nconst getOpts = ({\n  label: _label,\n  opts: _opts\n}) => {\n  let label = typeof _label === 'string' ? _label.trim() === '' ? null : _label : _label;\n  let opts = _opts;\n  if (typeof _opts.opts === 'object') {\n    if (opts.label !== undefined) {\n      label = _opts.label;\n    }\n    opts = _opts.opts;\n  }\n  return {\n    label,\n    opts: opts\n  };\n};\nfunction ButtonGroup(props) {\n  const {\n    label,\n    opts\n  } = getOpts(props);\n  const store = useStoreContext();\n  return React.createElement(Row, {\n    input: !!label\n  }, label && React.createElement(Label, null, label), React.createElement(StyledButtonGroup, null, Object.entries(opts).map(([label, onClick]) => React.createElement(StyledButtonGroupButton, {\n    key: label,\n    onClick: () => onClick(store.get)\n  }, label))));\n}\n\nconst Canvas = styled('canvas', {\n  height: '$monitorHeight',\n  width: '100%',\n  display: 'block',\n  borderRadius: '$sm'\n});\n\nconst POINTS = 100;\nfunction push(arr, val) {\n  arr.push(val);\n  if (arr.length > POINTS) arr.shift();\n}\nconst MonitorCanvas = forwardRef(function ({\n  initialValue\n}, ref) {\n  const accentColor = useTh('colors', 'highlight3');\n  const backgroundColor = useTh('colors', 'elevation2');\n  const fillColor = useTh('colors', 'highlight1');\n  const [gradientTop, gradientBottom] = useMemo(() => {\n    return [colord(fillColor).alpha(0.4).toRgbString(), colord(fillColor).alpha(0.1).toRgbString()];\n  }, [fillColor]);\n  const points = useRef([initialValue]);\n  const min = useRef(initialValue);\n  const max = useRef(initialValue);\n  const raf = useRef();\n  const drawPlot = useCallback((_canvas, _ctx) => {\n    if (!_canvas) return;\n    const {\n      width,\n      height\n    } = _canvas;\n\n    const path = new Path2D();\n    const interval = width / POINTS;\n    const verticalPadding = height * 0.05;\n    for (let i = 0; i < points.current.length; i++) {\n      const p = range(points.current[i], min.current, max.current);\n      const x = interval * i;\n      const y = height - p * (height - verticalPadding * 2) - verticalPadding;\n      path.lineTo(x, y);\n    }\n\n    _ctx.clearRect(0, 0, width, height);\n\n    const gradientPath = new Path2D(path);\n    gradientPath.lineTo(interval * (points.current.length + 1), height);\n    gradientPath.lineTo(0, height);\n    gradientPath.lineTo(0, 0);\n    const gradient = _ctx.createLinearGradient(0, 0, 0, height);\n    gradient.addColorStop(0.0, gradientTop);\n    gradient.addColorStop(1.0, gradientBottom);\n    _ctx.fillStyle = gradient;\n    _ctx.fill(gradientPath);\n\n    _ctx.strokeStyle = backgroundColor;\n    _ctx.lineJoin = 'round';\n    _ctx.lineWidth = 14;\n    _ctx.stroke(path);\n\n    _ctx.strokeStyle = accentColor;\n    _ctx.lineWidth = 2;\n    _ctx.stroke(path);\n  }, [accentColor, backgroundColor, gradientTop, gradientBottom]);\n  const [canvas, ctx] = useCanvas2d(drawPlot);\n  useImperativeHandle(ref, () => ({\n    frame: val => {\n      if (min.current === undefined || val < min.current) min.current = val;\n      if (max.current === undefined || val > max.current) max.current = val;\n      push(points.current, val);\n      raf.current = requestAnimationFrame(() => drawPlot(canvas.current, ctx.current));\n    }\n  }), [canvas, ctx, drawPlot]);\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n  return React.createElement(Canvas, {\n    ref: canvas\n  });\n});\nconst parse = val => Number.isFinite(val) ? val.toPrecision(2) : val.toString();\nconst MonitorLog = forwardRef(function ({\n  initialValue\n}, ref) {\n  const [val, set] = useState(parse(initialValue));\n  useImperativeHandle(ref, () => ({\n    frame: v => set(parse(v))\n  }), []);\n  return React.createElement(\"div\", null, val);\n});\nfunction getValue(o) {\n  return typeof o === 'function' ? o() : o.current;\n}\nfunction Monitor({\n  label,\n  objectOrFn,\n  settings\n}) {\n  const ref = useRef();\n  const initialValue = useRef(getValue(objectOrFn));\n  useEffect(() => {\n    const timeout = window.setInterval(() => {\n      var _ref$current;\n      if (document.hidden) return;\n      (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.frame(getValue(objectOrFn));\n    }, settings.interval);\n    return () => window.clearInterval(timeout);\n  }, [objectOrFn, settings.interval]);\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, {\n    align: \"top\"\n  }, label), settings.graph ? React.createElement(MonitorCanvas, {\n    ref: ref,\n    initialValue: initialValue.current\n  }) : React.createElement(MonitorLog, {\n    ref: ref,\n    initialValue: initialValue.current\n  }));\n}\n\nconst _excluded$3 = [\"type\", \"label\", \"key\"];\nconst specialComponents = {\n  [SpecialInputs.BUTTON]: Button,\n  [SpecialInputs.BUTTON_GROUP]: ButtonGroup,\n  [SpecialInputs.MONITOR]: Monitor\n};\nconst Control = React.memo(({\n  path\n}) => {\n  const [input, {\n    set,\n    setSettings,\n    disable,\n    storeId,\n    emitOnEditStart,\n    emitOnEditEnd\n  }] = useInput(path);\n  if (!input) return null;\n  const {\n      type,\n      label,\n      key\n    } = input,\n    inputProps = _objectWithoutProperties(input, _excluded$3);\n  if (type in SpecialInputs) {\n    const SpecialInputForType = specialComponents[type];\n    return React.createElement(SpecialInputForType, _extends({\n      label: label,\n      path: path\n    }, inputProps));\n  }\n  if (!(type in Plugins)) {\n    log(LevaErrors.UNSUPPORTED_INPUT, type, path);\n    return null;\n  }\n  return React.createElement(ControlInput, _extends({\n    key: storeId + path,\n    type: type,\n    label: label,\n    storeId: storeId,\n    path: path,\n    valueKey: key,\n    setValue: set,\n    setSettings: setSettings,\n    disable: disable,\n    emitOnEditStart: emitOnEditStart,\n    emitOnEditEnd: emitOnEditEnd\n  }, inputProps));\n});\n\nfunction FolderTitle({\n  toggle,\n  toggled,\n  name\n}) {\n  return React.createElement(StyledTitle, {\n    onClick: () => toggle()\n  }, React.createElement(Chevron, {\n    toggled: toggled\n  }), React.createElement(\"div\", null, name));\n}\n\nconst Folder = ({\n  name,\n  path,\n  tree\n}) => {\n  const store = useStoreContext();\n  const newPath = join(path, name);\n  const {\n    collapsed,\n    color\n  } = store.getFolderSettings(newPath);\n  const [toggled, setToggle] = useState(!collapsed);\n  const folderRef = useRef(null);\n  const widgetColor = useTh('colors', 'folderWidgetColor');\n  const textColor = useTh('colors', 'folderTextColor');\n  useLayoutEffect(() => {\n    folderRef.current.style.setProperty('--leva-colors-folderWidgetColor', color || widgetColor);\n    folderRef.current.style.setProperty('--leva-colors-folderTextColor', color || textColor);\n  }, [color, widgetColor, textColor]);\n  return React.createElement(StyledFolder, {\n    ref: folderRef\n  }, React.createElement(FolderTitle, {\n    name: name,\n    toggled: toggled,\n    toggle: () => setToggle(t => !t)\n  }), React.createElement(TreeWrapper, {\n    parent: newPath,\n    tree: tree,\n    toggled: toggled\n  }));\n};\nconst TreeWrapper = React.memo(({\n  isRoot: _isRoot = false,\n  fill: _fill = false,\n  flat: _flat = false,\n  parent,\n  tree,\n  toggled\n}) => {\n  const {\n    wrapperRef,\n    contentRef\n  } = useToggle(toggled);\n  const store = useStoreContext();\n  const getOrder = ([key, o]) => {\n    var _store$getInput;\n    const order = isInput(o) ? (_store$getInput = store.getInput(o.path)) === null || _store$getInput === void 0 ? void 0 : _store$getInput.order : store.getFolderSettings(join(parent, key)).order;\n    return order || 0;\n  };\n  const entries = Object.entries(tree).sort((a, b) => getOrder(a) - getOrder(b));\n  return React.createElement(StyledWrapper, {\n    ref: wrapperRef,\n    isRoot: _isRoot,\n    fill: _fill,\n    flat: _flat\n  }, React.createElement(StyledContent, {\n    ref: contentRef,\n    isRoot: _isRoot,\n    toggled: toggled\n  }, entries.map(([key, value]) => isInput(value) ? React.createElement(Control, {\n    key: value.path,\n    valueKey: value.valueKey,\n    path: value.path\n  }) : React.createElement(Folder, {\n    key: key,\n    name: key,\n    path: parent,\n    tree: value\n  }))));\n});\n\nconst StyledRoot = styled('div', {\n  position: 'relative',\n  fontFamily: '$mono',\n  fontSize: '$root',\n  color: '$rootText',\n  backgroundColor: '$elevation1',\n  variants: {\n    fill: {\n      false: {\n        position: 'fixed',\n        top: '10px',\n        right: '10px',\n        zIndex: 1000,\n        width: '$rootWidth'\n      },\n      true: {\n        position: 'relative',\n        width: '100%'\n      }\n    },\n    flat: {\n      false: {\n        borderRadius: '$lg',\n        boxShadow: '$level1'\n      }\n    },\n    oneLineLabels: {\n      true: {\n        [`${StyledInputRow}`]: {\n          gridTemplateColumns: 'auto',\n          gridAutoColumns: 'minmax(max-content, 1fr)',\n          gridAutoRows: 'minmax($sizes$rowHeight), auto)',\n          rowGap: 0,\n          columnGap: 0,\n          marginTop: '$rowGap'\n        }\n      }\n    },\n    hideTitleBar: {\n      true: {\n        $$titleBarHeight: '0px'\n      },\n      false: {\n        $$titleBarHeight: '$sizes$titleBarHeight'\n      }\n    }\n  },\n  '&,*,*:after,*:before': {\n    boxSizing: 'border-box'\n  },\n  '*::selection': {\n    backgroundColor: '$accent2'\n  }\n});\n\nconst iconWidth = 40;\nconst Icon = styled('i', {\n  $flexCenter: '',\n  width: iconWidth,\n  userSelect: 'none',\n  cursor: 'pointer',\n  '> svg': {\n    fill: '$highlight1',\n    transition: 'transform 350ms ease, fill 250ms ease'\n  },\n  '&:hover > svg': {\n    fill: '$highlight3'\n  },\n  variants: {\n    active: {\n      true: {\n        '> svg': {\n          fill: '$highlight2'\n        }\n      }\n    }\n  }\n});\nconst StyledTitleWithFilter = styled('div', {\n  display: 'flex',\n  alignItems: 'stretch',\n  justifyContent: 'space-between',\n  height: '$titleBarHeight',\n  variants: {\n    mode: {\n      drag: {\n        cursor: 'grab'\n      }\n    }\n  }\n});\nconst FilterWrapper = styled('div', {\n  $flex: '',\n  position: 'relative',\n  width: '100%',\n  overflow: 'hidden',\n  transition: 'height 250ms ease',\n  color: '$highlight3',\n  paddingLeft: '$md',\n  [`> ${Icon}`]: {\n    height: 30\n  },\n  variants: {\n    toggled: {\n      true: {\n        height: 30\n      },\n      false: {\n        height: 0\n      }\n    }\n  }\n});\nconst StyledFilterInput = styled('input', {\n  $reset: '',\n  flex: 1,\n  position: 'relative',\n  height: 30,\n  width: '100%',\n  backgroundColor: 'transparent',\n  fontSize: '10px',\n  borderRadius: '$root',\n  '&:focus': {},\n  '&::placeholder': {\n    color: '$highlight2'\n  }\n});\nconst TitleContainer = styled('div', {\n  touchAction: 'none',\n  $flexCenter: '',\n  flex: 1,\n  '> svg': {\n    fill: '$highlight1'\n  },\n  color: '$highlight1',\n  variants: {\n    drag: {\n      true: {\n        $draggable: '',\n        '> svg': {\n          transition: 'fill 250ms ease'\n        },\n        '&:hover': {\n          color: '$highlight3'\n        },\n        '&:hover > svg': {\n          fill: '$highlight3'\n        }\n      }\n    },\n    filterEnabled: {\n      false: {\n        paddingRight: iconWidth\n      }\n    }\n  }\n});\n\nconst FilterInput = React.forwardRef(({\n  setFilter,\n  toggle\n}, ref) => {\n  const [value, set] = useState('');\n  const debouncedOnChange = useMemo(() => debounce(setFilter, 250), [setFilter]);\n  const clear = () => {\n    setFilter('');\n    set('');\n  };\n  const _onChange = e => {\n    const v = e.currentTarget.value;\n    toggle(true);\n    set(v);\n  };\n  useEffect(() => {\n    debouncedOnChange(value);\n  }, [value, debouncedOnChange]);\n  return React.createElement(React.Fragment, null, React.createElement(StyledFilterInput, {\n    ref: ref,\n    value: value,\n    placeholder: \"[Open filter with CMD+SHIFT+L]\",\n    onPointerDown: e => e.stopPropagation(),\n    onChange: _onChange\n  }), React.createElement(Icon, {\n    onClick: () => clear(),\n    style: {\n      visibility: value ? 'visible' : 'hidden'\n    }\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"14\",\n    width: \"14\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n    clipRule: \"evenodd\"\n  }))));\n});\nfunction TitleWithFilter({\n  setFilter,\n  onDrag,\n  onDragStart,\n  onDragEnd,\n  toggle,\n  toggled,\n  title,\n  drag,\n  filterEnabled,\n  from\n}) {\n  const [filterShown, setShowFilter] = useState(false);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    var _inputRef$current, _inputRef$current2;\n    if (filterShown) (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();else (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 ? void 0 : _inputRef$current2.blur();\n  }, [filterShown]);\n  const bind = useDrag(({\n    offset: [x, y],\n    first,\n    last\n  }) => {\n    onDrag({\n      x,\n      y\n    });\n    if (first) {\n      onDragStart({\n        x,\n        y\n      });\n    }\n    if (last) {\n      onDragEnd({\n        x,\n        y\n      });\n    }\n  }, {\n    filterTaps: true,\n    from: ({\n      offset: [x, y]\n    }) => [(from === null || from === void 0 ? void 0 : from.x) || x, (from === null || from === void 0 ? void 0 : from.y) || y]\n  });\n  useEffect(() => {\n    const handleShortcut = event => {\n      if (event.key === 'L' && event.shiftKey && event.metaKey) {\n        setShowFilter(f => !f);\n      }\n    };\n    window.addEventListener('keydown', handleShortcut);\n    return () => window.removeEventListener('keydown', handleShortcut);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(StyledTitleWithFilter, {\n    mode: drag ? 'drag' : undefined\n  }, React.createElement(Icon, {\n    active: !toggled,\n    onClick: () => toggle()\n  }, React.createElement(Chevron, {\n    toggled: toggled,\n    width: 12,\n    height: 8\n  })), React.createElement(TitleContainer, _extends({}, drag ? bind() : {}, {\n    drag: drag,\n    filterEnabled: filterEnabled\n  }), title === undefined && drag ? React.createElement(\"svg\", {\n    width: \"20\",\n    height: \"10\",\n    viewBox: \"0 0 28 14\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React.createElement(\"circle\", {\n    cx: \"2\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"14\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"26\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"2\",\n    cy: \"12\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"14\",\n    cy: \"12\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"26\",\n    cy: \"12\",\n    r: \"2\"\n  })) : title), filterEnabled && React.createElement(Icon, {\n    active: filterShown,\n    onClick: () => setShowFilter(f => !f)\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"20\",\n    viewBox: \"0 0 20 20\"\n  }, React.createElement(\"path\", {\n    d: \"M9 9a2 2 0 114 0 2 2 0 01-4 0z\"\n  }), React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z\",\n    clipRule: \"evenodd\"\n  })))), React.createElement(FilterWrapper, {\n    toggled: filterShown\n  }, React.createElement(FilterInput, {\n    ref: inputRef,\n    setFilter: setFilter,\n    toggle: toggle\n  })));\n}\n\nconst _excluded$2 = [\"store\", \"hidden\", \"theme\", \"collapsed\"];\nfunction LevaRoot(_ref) {\n  let {\n      store,\n      hidden = false,\n      theme,\n      collapsed = false\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded$2);\n  const themeContext = useDeepMemo(() => mergeTheme(theme), [theme]);\n  const [toggled, setToggle] = useState(!collapsed);\n  const computedToggled = typeof collapsed === 'object' ? !collapsed.collapsed : toggled;\n  const computedSetToggle = useMemo(() => {\n    if (typeof collapsed === 'object') {\n      return value => {\n        if (typeof value === 'function') {\n          collapsed.onChange(!value(!collapsed.collapsed));\n        } else {\n          collapsed.onChange(!value);\n        }\n      };\n    }\n    return setToggle;\n  }, [collapsed]);\n  if (!store || hidden) return null;\n  return React.createElement(ThemeContext.Provider, {\n    value: themeContext\n  }, React.createElement(LevaCore, _extends({\n    store: store\n  }, props, {\n    toggled: computedToggled,\n    setToggle: computedSetToggle,\n    rootClass: themeContext.className\n  })));\n}\nconst LevaCore = React.memo(({\n  store,\n  rootClass,\n  fill: _fill = false,\n  flat: _flat = false,\n  neverHide: _neverHide = false,\n  oneLineLabels: _oneLineLabels = false,\n  titleBar: _titleBar = {\n    title: undefined,\n    drag: true,\n    filter: true,\n    position: undefined,\n    onDrag: undefined,\n    onDragStart: undefined,\n    onDragEnd: undefined\n  },\n  hideCopyButton: _hideCopyButton = false,\n  toggled,\n  setToggle\n}) => {\n  var _titleBar$drag, _titleBar$filter;\n  const paths = useVisiblePaths(store);\n  const [filter, setFilter] = useState('');\n  const tree = useMemo(() => buildTree(paths, filter), [paths, filter]);\n\n  const [rootRef, set] = useTransform();\n\n  const shouldShow = _neverHide || paths.length > 0;\n  const title = typeof _titleBar === 'object' ? _titleBar.title || undefined : undefined;\n  const drag = typeof _titleBar === 'object' ? (_titleBar$drag = _titleBar.drag) !== null && _titleBar$drag !== void 0 ? _titleBar$drag : true : true;\n  const filterEnabled = typeof _titleBar === 'object' ? (_titleBar$filter = _titleBar.filter) !== null && _titleBar$filter !== void 0 ? _titleBar$filter : true : true;\n  const position = typeof _titleBar === 'object' ? _titleBar.position || undefined : undefined;\n  const onDrag = typeof _titleBar === 'object' ? _titleBar.onDrag || undefined : undefined;\n  const onDragStart = typeof _titleBar === 'object' ? _titleBar.onDragStart || undefined : undefined;\n  const onDragEnd = typeof _titleBar === 'object' ? _titleBar.onDragEnd || undefined : undefined;\n  React.useEffect(() => {\n    set({\n      x: position === null || position === void 0 ? void 0 : position.x,\n      y: position === null || position === void 0 ? void 0 : position.y\n    });\n  }, [position, set]);\n  globalStyles();\n  return React.createElement(PanelSettingsContext.Provider, {\n    value: {\n      hideCopyButton: _hideCopyButton\n    }\n  }, React.createElement(StyledRoot, {\n    ref: rootRef,\n    className: rootClass,\n    fill: _fill,\n    flat: _flat,\n    oneLineLabels: _oneLineLabels,\n    hideTitleBar: !_titleBar,\n    style: {\n      display: shouldShow ? 'block' : 'none'\n    }\n  }, _titleBar && React.createElement(TitleWithFilter, {\n    onDrag: point => {\n      set(point);\n      onDrag === null || onDrag === void 0 ? void 0 : onDrag(point);\n    },\n    onDragStart: point => onDragStart === null || onDragStart === void 0 ? void 0 : onDragStart(point),\n    onDragEnd: point => onDragEnd === null || onDragEnd === void 0 ? void 0 : onDragEnd(point),\n    setFilter: setFilter,\n    toggle: flag => setToggle(t => flag !== null && flag !== void 0 ? flag : !t),\n    toggled: toggled,\n    title: title,\n    drag: drag,\n    filterEnabled: filterEnabled,\n    from: position\n  }), shouldShow && React.createElement(StoreContext.Provider, {\n    value: store\n  }, React.createElement(TreeWrapper, {\n    isRoot: true,\n    fill: _fill,\n    flat: _flat,\n    tree: tree,\n    toggled: toggled\n  }))));\n});\n\nconst _excluded$1 = [\"isRoot\"];\nlet rootInitialized = false;\nlet rootEl = null;\nfunction Leva(_ref) {\n  let {\n      isRoot = false\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded$1);\n  useEffect(() => {\n    rootInitialized = true;\n    if (!isRoot && rootEl) {\n      rootEl.remove();\n      rootEl = null;\n    }\n    return () => {\n      if (!isRoot) rootInitialized = false;\n    };\n  }, [isRoot]);\n  return React.createElement(LevaRoot, _extends({\n    store: levaStore\n  }, props));\n}\n\nfunction useRenderRoot(isGlobalPanel) {\n  useEffect(() => {\n    if (isGlobalPanel && !rootInitialized) {\n      if (!rootEl) {\n        rootEl = document.getElementById('leva__root') || Object.assign(document.createElement('div'), {\n          id: 'leva__root'\n        });\n        if (document.body) {\n          document.body.appendChild(rootEl);\n          render(React.createElement(Leva, {\n            isRoot: true\n          }), rootEl);\n        }\n      }\n      rootInitialized = true;\n    }\n  }, [isGlobalPanel]);\n}\n\nconst _excluded = [\"store\"];\nfunction LevaPanel(_ref) {\n  let {\n      store\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const parentStore = useStoreContext();\n  const _store = store === undefined ? parentStore : store;\n  return React.createElement(LevaRoot, _extends({\n    store: _store\n  }, props));\n}\n\nfunction parseArgs(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined) {\n  let schema;\n  let folderName = undefined;\n  let folderSettings;\n  let hookSettings;\n  let deps;\n  if (typeof schemaOrFolderName === 'string') {\n    folderName = schemaOrFolderName;\n    schema = settingsOrDepsOrSchema;\n    if (Array.isArray(depsOrSettingsOrFolderSettings)) {\n      deps = depsOrSettingsOrFolderSettings;\n    } else {\n      if (depsOrSettingsOrFolderSettings) {\n        if ('store' in depsOrSettingsOrFolderSettings) {\n          hookSettings = depsOrSettingsOrFolderSettings;\n          deps = depsOrSettings;\n        } else {\n          folderSettings = depsOrSettingsOrFolderSettings;\n          if (Array.isArray(depsOrSettings)) {\n            deps = depsOrSettings;\n          } else {\n            hookSettings = depsOrSettings;\n            deps = depsOrUndefined;\n          }\n        }\n      }\n    }\n  } else {\n    schema = schemaOrFolderName;\n    if (Array.isArray(settingsOrDepsOrSchema)) {\n      deps = settingsOrDepsOrSchema;\n    } else {\n      hookSettings = settingsOrDepsOrSchema;\n      deps = depsOrSettingsOrFolderSettings;\n    }\n  }\n  return {\n    schema,\n    folderName,\n    folderSettings,\n    hookSettings,\n    deps: deps || []\n  };\n}\n\nfunction useControls(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined) {\n  const {\n    folderName,\n    schema,\n    folderSettings,\n    hookSettings,\n    deps\n  } = parseArgs(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined);\n  const schemaIsFunction = typeof schema === 'function';\n\n  const depsChanged = useRef(false);\n  const firstRender = useRef(true);\n\n  const _schema = useDeepMemo(() => {\n    depsChanged.current = true;\n    const s = typeof schema === 'function' ? schema() : schema;\n    return folderName ? {\n      [folderName]: folder(s, folderSettings)\n    } : s;\n  }, deps);\n\n  const isGlobalPanel = !(hookSettings !== null && hookSettings !== void 0 && hookSettings.store);\n  useRenderRoot(isGlobalPanel);\n  const [store] = useState(() => (hookSettings === null || hookSettings === void 0 ? void 0 : hookSettings.store) || levaStore);\n\n  const [initialData, mappedPaths] = useMemo(() => store.getDataFromSchema(_schema), [store, _schema]);\n  const [allPaths, renderPaths, onChangePaths, onEditStartPaths, onEditEndPaths] = useMemo(() => {\n    const allPaths = [];\n    const renderPaths = [];\n    const onChangePaths = {};\n    const onEditStartPaths = {};\n    const onEditEndPaths = {};\n    Object.values(mappedPaths).forEach(({\n      path,\n      onChange,\n      onEditStart,\n      onEditEnd,\n      transient\n    }) => {\n      allPaths.push(path);\n      if (!!onChange) {\n        onChangePaths[path] = onChange;\n        if (!transient) {\n          renderPaths.push(path);\n        }\n      } else {\n        renderPaths.push(path);\n      }\n      if (onEditStart) {\n        onEditStartPaths[path] = onEditStart;\n      }\n      if (onEditEnd) {\n        onEditEndPaths[path] = onEditEnd;\n      }\n    });\n    return [allPaths, renderPaths, onChangePaths, onEditStartPaths, onEditEndPaths];\n  }, [mappedPaths]);\n\n  const paths = useMemo(() => store.orderPaths(allPaths), [allPaths, store]);\n\n  const values = useValuesForPath(store, renderPaths, initialData);\n  const set = useCallback(values => {\n    const _values = Object.entries(values).reduce((acc, [p, v]) => Object.assign(acc, {\n      [mappedPaths[p].path]: v\n    }), {});\n    store.set(_values, false);\n  }, [store, mappedPaths]);\n  const get = useCallback(path => store.get(mappedPaths[path].path), [store, mappedPaths]);\n  useEffect(() => {\n\n    const shouldOverrideSettings = !firstRender.current && depsChanged.current;\n    store.addData(initialData, shouldOverrideSettings);\n    firstRender.current = false;\n    depsChanged.current = false;\n    return () => store.disposePaths(paths);\n  }, [store, paths, initialData]);\n  useEffect(() => {\n    const unsubscriptions = [];\n    Object.entries(onChangePaths).forEach(([path, onChange]) => {\n      onChange(store.get(path), path, _objectSpread2({\n        initial: true,\n        get: store.get\n      }, store.getInput(path)));\n      const unsub = store.useStore.subscribe(s => {\n        const input = s.data[path];\n        const value = input.disabled ? undefined : input.value;\n        return [value, input];\n      }, ([value, input]) => onChange(value, path, _objectSpread2({\n        initial: false,\n        get: store.get\n      }, input)), {\n        equalityFn: shallow\n      });\n      unsubscriptions.push(unsub);\n    });\n    return () => unsubscriptions.forEach(unsub => unsub());\n  }, [store, onChangePaths]);\n  useEffect(() => {\n    const unsubscriptions = [];\n    Object.entries(onEditStartPaths).forEach(([path, onEditStart]) => unsubscriptions.push(store.subscribeToEditStart(path, onEditStart)));\n    Object.entries(onEditEndPaths).forEach(([path, onEditEnd]) => unsubscriptions.push(store.subscribeToEditEnd(path, onEditEnd)));\n    return () => unsubscriptions.forEach(unsub => unsub());\n  }, [onEditStartPaths, onEditEndPaths, store]);\n  if (schemaIsFunction) return [values, set, get];\n  return values;\n}\n\nregister(LevaInputs.SELECT, select);\nregister(LevaInputs.IMAGE, image);\nregister(LevaInputs.NUMBER, number$1);\nregister(LevaInputs.COLOR, color);\nregister(LevaInputs.STRING, string);\nregister(LevaInputs.BOOLEAN, boolean);\nregister(LevaInputs.INTERVAL, interval);\nregister(LevaInputs.VECTOR3D, vector3d);\nregister(LevaInputs.VECTOR2D, vector2d);\n\nexport { Leva, LevaPanel, button, buttonGroup, folder, levaStore, monitor, useControls, useCreateStore };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}